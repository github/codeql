
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Name resolution &#8212; CodeQL</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Evaluation of QL programs" href="evaluation-of-ql-programs.html" />
    <link rel="prev" title="Lexical syntax" href="lexical-syntax.html" />

<title>CodeQL docs</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="../_static/custom.css" type="text/css" />
<link rel="stylesheet" href="../_static/primer.css" type="text/css" />


  </head><body>
<header class="Header">
    <div class="Header-item--full">
        <a href="https://codeql.github.com/docs" class="Header-link f2 d-flex flex-items-center">
            <!-- <%= octicon "mark-github", class: "mr-2", height: 32 %> -->
            <svg height="32" class="octicon octicon-mark-github mr-2" viewBox="0 0 16 16" version="1.1" width="32"
                aria-hidden="true">
                <path fill-rule="evenodd"
                    d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z">
                </path>
            </svg>
            <span class="hide-sm">CodeQL documentation</span>
        </a>
    </div>
    <div class="Header-item hide-sm hide-md">
        <script src="https://addsearch.com/js/?key=93b4d287e2fc079a4089412b669785d5&categories=!0xhelp.semmle.com,0xcodeql.github.com,1xdocs,1xcodeql-standard-libraries,1xcodeql-query-help"></script>
    </div>
    <div class="Header-item">

        <details class="dropdown details-reset details-overlay d-inline-block">
            <summary class="btn bg-gray-dark text-white border" aria-haspopup="true">
                CodeQL resources
                <div class="dropdown-caret"></div>
            </summary>

            <ul class="dropdown-menu dropdown-menu-se dropdown-menu-dark">
                <li><a class="dropdown-item" href="https://codeql.github.com/docs/codeql-overview">CodeQL overview</a></li>
                <li class="dropdown-divider" role="separator"></li>
                <div class="dropdown-header">
                    CodeQL tools
                </div>
                <li><a class="dropdown-item" href="https://codeql.github.com/docs/codeql-for-visual-studio-code">CodeQL for VS Code</a>
                <li><a class="dropdown-item" href="https://codeql.github.com/docs/codeql-cli">CodeQL CLI</a>
                </li>
                <li class="dropdown-divider" role="separator"></li>
                <div class="dropdown-header">
                    CodeQL guides
                </div>
                <li><a class="dropdown-item" href="https://codeql.github.com/docs/writing-codeql-queries">Writing CodeQL queries</a></li>
                <li><a class="dropdown-item" href="https://codeql.github.com/docs/codeql-language-guides">CodeQL language guides</a>
                <li class="dropdown-divider" role="separator"></li>
                <div class="dropdown-header">
                    Reference docs
                </div>
                <li><a class="dropdown-item" href="https://codeql.github.com/docs/ql-language-reference/">QL language
                        reference</a>
                <li><a class="dropdown-item" href="https://codeql.github.com/codeql-standard-libraries">CodeQL
                        standard-libraries</a>
                <li><a class="dropdown-item" href="https://codeql.github.com/codeql-query-help">CodeQL
                        query help</a>
                <li class="dropdown-divider" role="separator"></li>
                <div class="dropdown-header">
                    Source files
                </div>
                <li><a class="dropdown-item" href="https://github.com/github/codeql">CodeQL repository</a>
            </ul>
        </details>

    </div>

</header>
<main class="bg-gray-light clearfix">
<nav class="SideNav position-sticky top-0 col-lg-3 col-md-3 float-left p-4 hide-sm hide-md overflow-y-auto">

    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../codeql-overview/index.html">CodeQL overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeql-for-visual-studio-code/index.html">CodeQL for Visual Studio Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeql-cli/index.html">CodeQL CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../writing-codeql-queries/index.html">Writing CodeQL queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeql-language-guides/index.html">CodeQL language guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">QL language reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="about-the-ql-language.html">About the QL language</a></li>
<li class="toctree-l2"><a class="reference internal" href="predicates.html">Predicates</a></li>
<li class="toctree-l2"><a class="reference internal" href="queries.html">Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html">Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="signatures.html">Signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="aliases.html">Aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="variables.html">Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="expressions.html">Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="formulas.html">Formulas</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html">Annotations</a></li>
<li class="toctree-l2"><a class="reference internal" href="recursion.html">Recursion</a></li>
<li class="toctree-l2"><a class="reference internal" href="lexical-syntax.html">Lexical syntax</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Name resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="evaluation-of-ql-programs.html">Evaluation of QL programs</a></li>
<li class="toctree-l2"><a class="reference internal" href="ql-language-specification.html">QL language specification</a></li>
</ul>
</li>
</ul>


</nav>


<div class="body col-sm-12 col-md-9 col-lg-9 float-left border-left">

    <div class="hide-lg hide-xl px-4 pt-4">
        
<div class="related" role="navigation" aria-label="related navigation">
    <ul>
        <li class="nav-item nav-item-0"><a href="../contents.html">CodeQL</a> &#187;</li>
        <li class="nav-item nav-item-1"><a href="index.html"
                accesskey="U">QL language reference</a> &#187;</li> 
    </ul>
</div>
    </div>

    <article class="p-4 col-lg-10 col-md-10 col-sm-12">
        
  <div class="section" id="name-resolution-1">
<span id="name-resolution"></span><h1>Name resolution<a class="headerlink" href="#name-resolution-1" title="Permalink to this headline">¶</a></h1>
<p>The QL compiler resolves names to program elements.</p>
<p>As in other programming languages, there is a distinction between the names used in QL code,
and the underlying QL entities they refer to.</p>
<p>It is possible for different entities in QL to have the same name, for example if they are
defined in separate modules. Therefore, it is important that the QL compiler can resolve the
name to the correct entity.</p>
<p>When you write your own QL, you can use different kinds of expressions to refer to entities.
Those expressions are then resolved to QL entities in the appropriate <a class="reference internal" href="#namespaces"><span class="std std-ref">namespace</span></a>.</p>
<dl class="docutils">
<dt>In summary, the kinds of expressions are:</dt>
<dd><ul class="first last simple">
<li><dl class="first docutils">
<dt><strong>Module expressions</strong></dt>
<dd><ul class="first last">
<li>These refer to modules.</li>
<li>They can be simple <a class="reference internal" href="#names"><span class="std std-ref">names</span></a>, <a class="reference internal" href="#qualified-references"><span class="std std-ref">qualified references</span></a>
(in import statements), <a class="reference internal" href="#selections"><span class="std std-ref">selections</span></a>, or <a class="reference internal" href="modules.html#parameterized-modules"><span class="std std-ref">instantiations</span></a>.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Type expressions</strong></dt>
<dd><ul class="first last">
<li>These refer to types.</li>
<li>They can be simple <a class="reference internal" href="#names"><span class="std std-ref">names</span></a> or <a class="reference internal" href="#selections"><span class="std std-ref">selections</span></a>.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>Predicate expressions</strong></dt>
<dd><ul class="first last">
<li>These refer to predicates.</li>
<li>They can be simple <a class="reference internal" href="#names"><span class="std std-ref">names</span></a> or names with arities (for example in an <a class="reference internal" href="aliases.html#aliases"><span class="std std-ref">alias</span></a>
definition), or <a class="reference internal" href="#selections"><span class="std std-ref">selections</span></a>.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>signature expressions</strong></dt>
<dd><ul class="first last">
<li>These refer to module signatures, type signatures, or predicate signatures.</li>
<li>They can be simple <a class="reference internal" href="#names"><span class="std std-ref">names</span></a>, names with arities, <a class="reference internal" href="#selections"><span class="std std-ref">selections</span></a>,
or <a class="reference internal" href="modules.html#parameterized-modules"><span class="std std-ref">instantiations</span></a>.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<div class="section" id="names-1">
<span id="names"></span><h2>Names<a class="headerlink" href="#names-1" title="Permalink to this headline">¶</a></h2>
<p>To resolve a simple name (with arity), the compiler looks for that name (and arity)
in the <a class="reference internal" href="#namespaces"><span class="std std-ref">namespaces</span></a> of the current module.</p>
<p>In an <a class="reference internal" href="modules.html#import-statements"><span class="std std-ref">import statement</span></a>, name resolution is slightly more complicated.
For example, suppose you define a <a class="reference internal" href="modules.html#query-modules"><span class="std std-ref">query module</span></a> <code class="docutils literal notranslate"><span class="pre">Example.ql</span></code> with the
following import statement:</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">javascript</span>
</pre></div>
</div>
<p>The compiler first checks for a <a class="reference internal" href="modules.html#library-modules"><span class="std std-ref">library module</span></a> <code class="docutils literal notranslate"><span class="pre">javascript.qll</span></code>,
using the steps described below for qualified references. If that fails, it checks for an
<a class="reference internal" href="modules.html#explicit-modules"><span class="std std-ref">explicit module</span></a> named <code class="docutils literal notranslate"><span class="pre">javascript</span></code> defined in the
<a class="reference internal" href="#namespaces"><span class="std std-ref">module namespace</span></a> of <code class="docutils literal notranslate"><span class="pre">Example.ql</span></code>.</p>
</div>
<div class="section" id="qualified-references-1">
<span id="qualified-references"></span><h2>Qualified references<a class="headerlink" href="#qualified-references-1" title="Permalink to this headline">¶</a></h2>
<p>A qualified reference is a module expression that uses <code class="docutils literal notranslate"><span class="pre">.</span></code> as a file path separator. You can
only use such an expression in <a class="reference internal" href="modules.html#import-statements"><span class="std std-ref">import statements</span></a>, to import a
library module defined by a relative path.</p>
<p>For example, suppose you define a <a class="reference internal" href="modules.html#query-modules"><span class="std std-ref">query module</span></a> <code class="docutils literal notranslate"><span class="pre">Example.ql</span></code> with the
following import statement:</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">examples</span><span class="p">.</span><span class="n">security</span><span class="p">.</span><span class="n">MyLibrary</span>
</pre></div>
</div>
<p>To find the precise location of this <a class="reference internal" href="modules.html#library-modules"><span class="std std-ref">library module</span></a>, the QL compiler processes the import
statement as follows:</p>
<blockquote>
<div><ol class="arabic simple">
<li>The <code class="docutils literal notranslate"><span class="pre">.</span></code>s in the qualified reference correspond to file path separators, so it first looks
up <code class="docutils literal notranslate"><span class="pre">examples/security/MyLibrary.qll</span></code> from the directory containing <code class="docutils literal notranslate"><span class="pre">Example.ql</span></code>.</li>
<li>If that fails, it looks up <code class="docutils literal notranslate"><span class="pre">examples/security/MyLibrary.qll</span></code> relative to the query
directory, if any.
The query directory is the first enclosing directory containing a file called <code class="docutils literal notranslate"><span class="pre">qlpack.yml</span></code>. (Or, in legacy products, a file called <code class="docutils literal notranslate"><span class="pre">queries.xml</span></code>.)</li>
<li>If the compiler can’t find the library file using the above two checks, it looks up <code class="docutils literal notranslate"><span class="pre">examples/security/MyLibrary.qll</span></code>
relative to each library path entry.
The library path is usually specified using the <code class="docutils literal notranslate"><span class="pre">libraryPathDependencies</span></code> of the <code class="docutils literal notranslate"><span class="pre">qlpack.yml</span></code> file, though it may also depend on the tools you use to run your query, and whether you have specified any extra settings.
For more information, see “<a class="reference external" href="https://codeql.github.com/docs/ql-language-reference/ql-language-specification/#library-path">Library path</a>” in the QL language specification.</li>
</ol>
</div></blockquote>
<p>If the compiler cannot resolve an import statement, then it gives a compilation error.</p>
</div>
<div class="section" id="selections-1">
<span id="selections"></span><h2>Selections<a class="headerlink" href="#selections-1" title="Permalink to this headline">¶</a></h2>
<p>You can use a selection to refer to a module, type, or predicate inside a particular
module. A selection is of the form:</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">module_expression</span><span class="o">&gt;::&lt;</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The compiler resolves the module expression first, and then looks for the name in
the <a class="reference internal" href="#namespaces"><span class="std std-ref">namespaces</span></a> for that module.</p>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>Consider the following <a class="reference internal" href="modules.html#library-modules"><span class="std std-ref">library module</span></a>:</p>
<p><strong>CountriesLib.qll</strong></p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="n">Countries</span> <span class="k">extends</span> <span class="kt">string</span> <span class="p">{</span>
  <span class="n">Countries</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span> <span class="o">=</span> <span class="s">&quot;Belgium&quot;</span>
    <span class="k">or</span>
    <span class="k">this</span> <span class="o">=</span> <span class="s">&quot;France&quot;</span>
    <span class="k">or</span>
    <span class="k">this</span> <span class="o">=</span> <span class="s">&quot;India&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">module</span> <span class="n">M</span> <span class="p">{</span>
  <span class="k">class</span> <span class="n">EuropeanCountries</span> <span class="k">extends</span> <span class="n">Countries</span> <span class="p">{</span>
    <span class="n">EuropeanCountries</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span> <span class="o">=</span> <span class="s">&quot;Belgium&quot;</span>
      <span class="k">or</span>
      <span class="k">this</span> <span class="o">=</span> <span class="s">&quot;France&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You could write a query that imports <code class="docutils literal notranslate"><span class="pre">CountriesLib</span></code> and then uses <code class="docutils literal notranslate"><span class="pre">M::EuropeanCountries</span></code>
to refer to the class <code class="docutils literal notranslate"><span class="pre">EuropeanCountries</span></code>:</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">CountriesLib</span>

<span class="k">from</span> <span class="n">M</span><span class="o">::</span><span class="n">EuropeanCountries</span> <span class="n">ec</span>
<span class="k">select</span> <span class="n">ec</span>
</pre></div>
</div>
<p>Alternatively, you could import the contents of <code class="docutils literal notranslate"><span class="pre">M</span></code> directly by using the selection
<code class="docutils literal notranslate"><span class="pre">CountriesLib::M</span></code> in the import statement:</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">CountriesLib</span><span class="o">::</span><span class="n">M</span>

<span class="k">from</span> <span class="n">EuropeanCountries</span> <span class="n">ec</span>
<span class="k">select</span> <span class="n">ec</span>
</pre></div>
</div>
<p>That gives the query access to everything within <code class="docutils literal notranslate"><span class="pre">M</span></code>, but nothing within <code class="docutils literal notranslate"><span class="pre">CountriesLib</span></code> that
isn’t also in <code class="docutils literal notranslate"><span class="pre">M</span></code>.</p>
</div>
</div>
<div class="section" id="namespaces-1">
<span id="namespaces"></span><span id="index-0"></span><h2>Namespaces<a class="headerlink" href="#namespaces-1" title="Permalink to this headline">¶</a></h2>
<p>When writing QL, it’s useful to understand how namespaces (also known as
<a class="reference external" href="https://codeql.github.com/docs/ql-language-reference/ql-language-specification/#name-resolution">environments</a>) work.</p>
<p>As in many other programming languages, a namespace is a mapping from <strong>keys</strong> to
<strong>entities</strong>. A key is a kind of identifier, for example a name, and a QL entity is
a <a class="reference internal" href="modules.html#modules"><span class="std std-ref">module</span></a>, a <a class="reference internal" href="types.html#types"><span class="std std-ref">type</span></a>, or a <a class="reference internal" href="predicates.html#predicates"><span class="std std-ref">predicate</span></a>.</p>
<p>Each module in QL has six namespaces:</p>
<blockquote>
<div><ul class="simple">
<li>The <strong>module namespace</strong>, where the keys are module names and the entities are modules.</li>
<li>The <strong>type namespace</strong>, where the keys are type names and the entities are types.</li>
<li>The <strong>predicate namespace</strong>, where the keys are pairs of predicate names and arities,
and the entities are predicates.</li>
<li>The <strong>module signature namespace</strong>, where the keys are module signature names and the entities are module signatures.</li>
<li>The <strong>type signature namespace</strong>, where the keys are type signature names and the entities are type signatures.</li>
<li>The <strong>predicate signature namespace</strong>, where the keys are pairs of predicate signature names and arities,
and the entities are predicate signatures.</li>
</ul>
</div></blockquote>
<p>The six namespaces of any module are not completely independent of each other:</p>
<blockquote>
<div><ul class="simple">
<li>No keys may be shared between the <strong>module namespace</strong> and the <strong>module signature namespace</strong>.</li>
<li>No keys may be shared between the <strong>type namespace</strong> and the <strong>type signature namespace</strong>.</li>
<li>No keys may be shared between the <strong>module namespace</strong> and the <strong>type signature namespace</strong>.</li>
<li>No keys may be shared between the <strong>type namespace</strong> and the <strong>module signature namespace</strong>.</li>
<li>No keys may be shared between the <strong>predicate namespace</strong> and the <strong>predicate signature namespace</strong>.</li>
<li>No keys may be shared between the <strong>module signature namespace</strong> and the <strong>type signature namespace</strong>.</li>
</ul>
</div></blockquote>
<p>There is no relation between names in namespaces of different modules.
For example, two different modules can define a predicate <code class="docutils literal notranslate"><span class="pre">getLocation()</span></code> without confusion. As long as
it’s clear which namespace you are in, the QL compiler resolves the name to the correct predicate.</p>
<div class="section" id="global-namespaces">
<h3>Global namespaces<a class="headerlink" href="#global-namespaces" title="Permalink to this headline">¶</a></h3>
<p>The namespaces containing all the built-in entities are called <strong>global namespaces</strong>,
and are automatically available in any module.
In particular:</p>
<blockquote>
<div><ul class="simple">
<li>The <strong>global module namespace</strong> has a single entry <code class="docutils literal notranslate"><span class="pre">QlBuiltins</span></code>.</li>
<li>The <strong>global type namespace</strong> has entries for the <a class="reference internal" href="types.html#primitive-types"><span class="std std-ref">primitive types</span></a> <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>,
<code class="docutils literal notranslate"><span class="pre">string</span></code>, <code class="docutils literal notranslate"><span class="pre">boolean</span></code>, and <code class="docutils literal notranslate"><span class="pre">date</span></code>, as well as any <a class="reference internal" href="types.html#database-types"><span class="std std-ref">database types</span></a> defined in the database schema.</li>
<li>The <strong>global predicate namespace</strong> includes all the <a class="reference external" href="https://codeql.github.com/docs/ql-language-reference/ql-language-specification/#built-ins">built-in predicates</a>,
as well as any <a class="reference internal" href="predicates.html#database-predicates"><span class="std std-ref">database predicates</span></a>.</li>
<li>The <strong>global signature namespaces</strong> are empty.</li>
</ul>
</div></blockquote>
<p>In practice, this means that you can use the built-in types and predicates directly in a QL module (without
importing any libraries). You can also use any database predicates and types directly—these depend on the
underlying database that you are querying.</p>
</div>
<div class="section" id="local-namespaces">
<h3>Local namespaces<a class="headerlink" href="#local-namespaces" title="Permalink to this headline">¶</a></h3>
<p>In addition to the global module, type, and predicate namespaces, each module defines a number of local
module, type, and predicate namespaces.</p>
<p>For a module <code class="docutils literal notranslate"><span class="pre">M</span></code>, it is useful to distinguish between its <strong>privately declared</strong>, <strong>publically declared</strong>, <strong>exported</strong>, and <strong>visible</strong> namespaces.
(These are described generically, but remember that there is always one for each of modules, module signatures, types, type signatures, predicates, and predicate signatures.)</p>
<ul class="simple">
<li>The <strong>privately declared</strong> namespaces of <code class="docutils literal notranslate"><span class="pre">M</span></code> contain all entities and aliases that are declared—that is, defined—in <code class="docutils literal notranslate"><span class="pre">M</span></code> and that are annotated as <code class="docutils literal notranslate"><span class="pre">private</span></code>.</li>
<li>The <strong>publically declared</strong> namespaces of <code class="docutils literal notranslate"><span class="pre">M</span></code> contain all entities and aliases that are declared—that is, defined—in <code class="docutils literal notranslate"><span class="pre">M</span></code> and that are not annotated as <code class="docutils literal notranslate"><span class="pre">private</span></code>.</li>
<li><dl class="first docutils">
<dt>The <strong>exported</strong> namespaces of <code class="docutils literal notranslate"><span class="pre">M</span></code> contain</dt>
<dd><ol class="first last arabic">
<li>all entries from the <strong>publically declared</strong> namespaces of <code class="docutils literal notranslate"><span class="pre">M</span></code>, and</li>
<li>for each module <code class="docutils literal notranslate"><span class="pre">N</span></code> that is imported into <code class="docutils literal notranslate"><span class="pre">M</span></code> with an import statement that is not annotated as <code class="docutils literal notranslate"><span class="pre">private</span></code>: all entries from the <strong>exported</strong> namespaces of <code class="docutils literal notranslate"><span class="pre">N</span></code> that do not have the same name as any of the entries in the <strong>publically declared</strong> namespaces of <code class="docutils literal notranslate"><span class="pre">M</span></code>, and</li>
<li>for each module signature <code class="docutils literal notranslate"><span class="pre">S</span></code> that is implemented by <code class="docutils literal notranslate"><span class="pre">M</span></code>: an entry for each module signature default predicate in <code class="docutils literal notranslate"><span class="pre">S</span></code> that does not have the same name and arity as any of the entries in the <strong>publically declared</strong> predicate namespace of <code class="docutils literal notranslate"><span class="pre">M</span></code>.</li>
</ol>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>The <strong>visible</strong> namespaces of <code class="docutils literal notranslate"><span class="pre">M</span></code> contain</dt>
<dd><ol class="first last arabic">
<li>all entries from the <strong>exported</strong> namespaces of <code class="docutils literal notranslate"><span class="pre">M</span></code>, and</li>
<li>all entries from the <strong>global</strong> namespaces, and</li>
<li>all entries from the <strong>privately declared</strong> namespace of <code class="docutils literal notranslate"><span class="pre">M</span></code>, and</li>
<li>for each module <code class="docutils literal notranslate"><span class="pre">N</span></code> that is imported into <code class="docutils literal notranslate"><span class="pre">M</span></code> with an import statement that is annotated as <code class="docutils literal notranslate"><span class="pre">private</span></code>: all entries from the <strong>exported</strong> namespaces of <code class="docutils literal notranslate"><span class="pre">N</span></code> that do not have the same name as any of the entries in the <strong>publically declared</strong> namespaces of <code class="docutils literal notranslate"><span class="pre">M</span></code>.</li>
<li>if <code class="docutils literal notranslate"><span class="pre">M</span></code> is nested within a module <code class="docutils literal notranslate"><span class="pre">N</span></code>: all entries from the <strong>visible</strong> namespaces of <code class="docutils literal notranslate"><span class="pre">N</span></code> that do not have the same name as any of the entries in the <strong>publically declared</strong> namespaces of <code class="docutils literal notranslate"><span class="pre">M</span></code>, and</li>
<li>all parameters of <code class="docutils literal notranslate"><span class="pre">M</span></code>.</li>
</ol>
</dd>
</dl>
</li>
</ul>
<p>This is easiest to understand in an example:</p>
<p><strong>OneTwoThreeLib.qll</strong></p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">MyFavoriteNumbers</span>

<span class="k">class</span> <span class="n">OneTwoThree</span> <span class="k">extends</span> <span class="kt">int</span> <span class="p">{</span>
  <span class="n">OneTwoThree</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span> <span class="o">=</span> <span class="m">1</span> <span class="k">or</span> <span class="k">this</span> <span class="o">=</span> <span class="m">2</span> <span class="k">or</span> <span class="k">this</span> <span class="o">=</span> <span class="m">3</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">private </span><span class="k">module</span> <span class="n">P</span> <span class="p">{</span>
  <span class="k">class</span> <span class="n">OneTwo</span> <span class="k">extends</span> <span class="n">OneTwoThree</span> <span class="p">{</span>
    <span class="n">OneTwo</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span> <span class="o">=</span> <span class="m">1</span> <span class="k">or</span> <span class="k">this</span> <span class="o">=</span> <span class="m">2</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The module <code class="docutils literal notranslate"><span class="pre">OneTwoThreeLib</span></code> <strong>publically declares</strong> the class <code class="docutils literal notranslate"><span class="pre">OneTwoThree</span></code> and <strong>privately declares</strong> the module <code class="docutils literal notranslate"><span class="pre">P</span></code>.</p>
<p>It <strong>exports</strong> the class <code class="docutils literal notranslate"><span class="pre">OneTwoThree</span></code> and anything that is exported by <code class="docutils literal notranslate"><span class="pre">MyFavoriteNumbers</span></code>
(assuming <code class="docutils literal notranslate"><span class="pre">MyFavoriteNumbers</span></code> does not export a type <code class="docutils literal notranslate"><span class="pre">OneTwoThree</span></code>, which would not be <strong>exported</strong> by <code class="docutils literal notranslate"><span class="pre">OneTwoThreeLib</span></code>).</p>
<p>Within it, the class <code class="docutils literal notranslate"><span class="pre">OneTwoThree</span></code> and the module <code class="docutils literal notranslate"><span class="pre">P</span></code> are <strong>visible</strong>, as well as anything exported by <cite>MyFavoriteNumbers`</cite>
(assuming <code class="docutils literal notranslate"><span class="pre">MyFavoriteNumbers</span></code> does not export a type <code class="docutils literal notranslate"><span class="pre">OneTwoThree</span></code>, which would not be <strong>visible</strong> within <code class="docutils literal notranslate"><span class="pre">OneTwoThreeLib</span></code>).</p>
</div>
<div class="section" id="example-1">
<h3>Example<a class="headerlink" href="#example-1" title="Permalink to this headline">¶</a></h3>
<p>Let’s see what the module, type, and predicate namespaces look like in a concrete example:</p>
<p>For example, you could define a library module <code class="docutils literal notranslate"><span class="pre">Villagers</span></code> containing some of the classes and predicates that
were defined in the <a class="reference internal" href="../writing-codeql-queries/ql-tutorials.html#ql-tutorials"><span class="std std-ref">QL tutorials</span></a>:</p>
<p><strong>Villagers.qll</strong></p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">tutorial</span>

<span class="k">predicate</span> <span class="n">isBald</span><span class="p">(</span><span class="n">Person</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">not</span> <span class="k">exists</span><span class="p">(</span><span class="kt">string</span> <span class="n">c</span> <span class="o">|</span> <span class="n">p</span><span class="p">.</span><span class="n">getHairColor</span><span class="p">()</span> <span class="o">=</span> <span class="n">c</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">class</span> <span class="n">Child</span> <span class="k">extends</span> <span class="n">Person</span> <span class="p">{</span>
  <span class="n">Child</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="n">getAge</span><span class="p">()</span> <span class="o">&lt;</span> <span class="m">10</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">module</span> <span class="n">S</span> <span class="p">{</span>
  <span class="k">predicate</span> <span class="n">isSouthern</span><span class="p">(</span><span class="n">Person</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">p</span><span class="p">.</span><span class="n">getLocation</span><span class="p">()</span> <span class="o">=</span> <span class="s">&quot;south&quot;</span>
  <span class="p">}</span>

  <span class="k">class</span> <span class="n">Southerner</span> <span class="k">extends</span> <span class="n">Person</span> <span class="p">{</span>
    <span class="n">Southerner</span><span class="p">()</span> <span class="p">{</span>
      <span class="n">isSouthern</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Module namespace</strong></p>
<dl class="docutils">
<dt>The module namespace of <code class="docutils literal notranslate"><span class="pre">Villagers</span></code> has entries for:</dt>
<dd><ul class="first last simple">
<li>The module <code class="docutils literal notranslate"><span class="pre">S</span></code>.</li>
<li>Any modules exported by <code class="docutils literal notranslate"><span class="pre">tutorial</span></code>.</li>
</ul>
</dd>
</dl>
<p>The module namespace of <code class="docutils literal notranslate"><span class="pre">S</span></code> also has entries for the module <code class="docutils literal notranslate"><span class="pre">S</span></code> itself, and for any
modules exported by <code class="docutils literal notranslate"><span class="pre">tutorial</span></code>.</p>
<p><strong>Type namespace</strong></p>
<dl class="docutils">
<dt>The type namespace of <code class="docutils literal notranslate"><span class="pre">Villagers</span></code> has entries for:</dt>
<dd><ul class="first last simple">
<li>The class <code class="docutils literal notranslate"><span class="pre">Child</span></code>.</li>
<li>The types exported by the module <code class="docutils literal notranslate"><span class="pre">tutorial</span></code>.</li>
<li>The built-in types, namely <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>, <code class="docutils literal notranslate"><span class="pre">string</span></code>, <code class="docutils literal notranslate"><span class="pre">date</span></code>, and <code class="docutils literal notranslate"><span class="pre">boolean</span></code>.</li>
</ul>
</dd>
<dt>The type namespace of <code class="docutils literal notranslate"><span class="pre">S</span></code> has entries for:</dt>
<dd><ul class="first last simple">
<li>All the above types.</li>
<li>The class <code class="docutils literal notranslate"><span class="pre">Southerner</span></code>.</li>
</ul>
</dd>
</dl>
<p><strong>Predicate namespace</strong></p>
<dl class="docutils">
<dt>The predicate namespace of <code class="docutils literal notranslate"><span class="pre">Villagers</span></code> has entries for:</dt>
<dd><ul class="first last simple">
<li>The predicate <code class="docutils literal notranslate"><span class="pre">isBald</span></code>, with arity 1.</li>
<li>Any predicates (and their arities) exported by <code class="docutils literal notranslate"><span class="pre">tutorial</span></code>.</li>
<li>The <a class="reference external" href="https://codeql.github.com/docs/ql-language-reference/ql-language-specification/#built-ins">built-in predicates</a>.</li>
</ul>
</dd>
<dt>The predicate namespace of <code class="docutils literal notranslate"><span class="pre">S</span></code> has entries for:</dt>
<dd><ul class="first last simple">
<li>All the above predicates.</li>
<li>The predicate <code class="docutils literal notranslate"><span class="pre">isSouthern</span></code>, with arity 1.</li>
</ul>
</dd>
</dl>
</div>
</div>
</div>


    </article>

    <!-- GitHub footer, with links to terms and privacy statement -->
    <div class="px-3 px-md-6 f6 py-4 d-sm-flex flex-justify-between flex-row-reverse flex-items-center border-top">
        <ul class="list-style-none d-flex flex-items-center mb-3 mb-sm-0 lh-condensed-ultra">
            <li class="mr-3">
                <a href="https://twitter.com/github" title="GitHub on Twitter" style="color: #959da5;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 273.5 222.3" class="d-block" height="18">
                        <path
                            d="M273.5 26.3a109.77 109.77 0 0 1-32.2 8.8 56.07 56.07 0 0 0 24.7-31 113.39 113.39 0 0 1-35.7 13.6 56.1 56.1 0 0 0-97 38.4 54 54 0 0 0 1.5 12.8A159.68 159.68 0 0 1 19.1 10.3a56.12 56.12 0 0 0 17.4 74.9 56.06 56.06 0 0 1-25.4-7v.7a56.11 56.11 0 0 0 45 55 55.65 55.65 0 0 1-14.8 2 62.39 62.39 0 0 1-10.6-1 56.24 56.24 0 0 0 52.4 39 112.87 112.87 0 0 1-69.7 24 119 119 0 0 1-13.4-.8 158.83 158.83 0 0 0 86 25.2c103.2 0 159.6-85.5 159.6-159.6 0-2.4-.1-4.9-.2-7.3a114.25 114.25 0 0 0 28.1-29.1"
                            fill="currentColor"></path>
                    </svg>
                </a>
            </li>
            <li class="mr-3">
                <a href="https://www.facebook.com/GitHub" title="GitHub on Facebook" style="color: #959da5;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.3 15.4" class="d-block" height="18">
                        <path
                            d="M14.5 0H.8a.88.88 0 0 0-.8.9v13.6a.88.88 0 0 0 .8.9h7.3v-6h-2V7.1h2V5.4a2.87 2.87 0 0 1 2.5-3.1h.5a10.87 10.87 0 0 1 1.8.1v2.1h-1.3c-1 0-1.1.5-1.1 1.1v1.5h2.3l-.3 2.3h-2v5.9h3.9a.88.88 0 0 0 .9-.8V.8a.86.86 0 0 0-.8-.8z"
                            fill="currentColor"></path>
                    </svg>
                </a>
            </li>
            <li class="mr-3">
                <a href="https://www.youtube.com/github" title="GitHub on YouTube" style="color: #959da5;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.17 13.6" class="d-block" height="16">
                        <path
                            d="M18.77 2.13A2.4 2.4 0 0 0 17.09.42C15.59 0 9.58 0 9.58 0a57.55 57.55 0 0 0-7.5.4A2.49 2.49 0 0 0 .39 2.13 26.27 26.27 0 0 0 0 6.8a26.15 26.15 0 0 0 .39 4.67 2.43 2.43 0 0 0 1.69 1.71c1.52.42 7.5.42 7.5.42a57.69 57.69 0 0 0 7.51-.4 2.4 2.4 0 0 0 1.68-1.71 25.63 25.63 0 0 0 .4-4.67 24 24 0 0 0-.4-4.69zM7.67 9.71V3.89l5 2.91z"
                            fill="currentColor"></path>
                    </svg>
                </a>
            </li>
            <li class="mr-3 flex-self-start">
                <a href="https://www.linkedin.com/company/github" title="GitHub on Linkedin" style="color: #959da5;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 18" class="d-block" height="18">
                        <path
                            d="M3.94 2A2 2 0 1 1 2 0a2 2 0 0 1 1.94 2zM4 5.48H0V18h4zm6.32 0H6.34V18h3.94v-6.57c0-3.66 4.77-4 4.77 0V18H19v-7.93c0-6.17-7.06-5.94-8.72-2.91z"
                            fill="currentColor"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://github.com/github" title="GitHub's organization" style="color: #959da5;">
                    <svg version="1.1" width="20" height="20" viewBox="0 0 16 16" class="octicon octicon-mark-github"
                        aria-hidden="true">
                        <path fill-rule="evenodd"
                            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                        </path>
                    </svg>
                </a>
            </li>
        </ul>
        <ul class="list-style-none d-flex text-gray">
            <li class="mr-3">&copy; 
                <script type="text/javascript">document.write(new Date().getFullYear());</script> GitHub, Inc.</li>
            <li class="mr-3"><a
                    href="https://docs.github.com/github/site-policy/github-terms-of-service"
                    class="link-gray">Terms </a></li>
            <li><a href="https://docs.github.com/github/site-policy/github-privacy-statement"
                    class="link-gray">Privacy </a></li>
        </ul>
    </div>
</div>
</main>

<script type="text/javascript">
    $(document).ready(function () {
        $(".toggle > *").hide();
        $(".toggle .name").show();
        $(".toggle .name").click(function () {
            $(this).parent().children().not(".name").toggle(400);
            $(this).parent().children(".name").toggleClass("open");
        })
    });
</script>

  </body>
</html>