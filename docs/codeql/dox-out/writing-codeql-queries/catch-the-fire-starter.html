
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Catch the fire starter &#8212; CodeQL</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Crown the rightful heir" href="crown-the-rightful-heir.html" />
    <link rel="prev" title="Find the thief" href="find-the-thief.html" />

<title>CodeQL docs</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="../_static/custom.css" type="text/css" />
<link rel="stylesheet" href="../_static/primer.css" type="text/css" />


  </head><body>
<header class="Header">
    <div class="Header-item--full">
        <a href="https://codeql.github.com/docs" class="Header-link f2 d-flex flex-items-center">
            <!-- <%= octicon "mark-github", class: "mr-2", height: 32 %> -->
            <svg height="32" class="octicon octicon-mark-github mr-2" viewBox="0 0 16 16" version="1.1" width="32"
                aria-hidden="true">
                <path fill-rule="evenodd"
                    d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z">
                </path>
            </svg>
            <span class="hide-sm">CodeQL documentation</span>
        </a>
    </div>
    <div class="Header-item hide-sm hide-md">
        <script src="https://addsearch.com/js/?key=93b4d287e2fc079a4089412b669785d5&categories=!0xhelp.semmle.com,0xcodeql.github.com,1xdocs,1xcodeql-standard-libraries,1xcodeql-query-help"></script>
    </div>
    <div class="Header-item">

        <details class="dropdown details-reset details-overlay d-inline-block">
            <summary class="btn bg-gray-dark text-white border" aria-haspopup="true">
                CodeQL resources
                <div class="dropdown-caret"></div>
            </summary>

            <ul class="dropdown-menu dropdown-menu-se dropdown-menu-dark">
                <li><a class="dropdown-item" href="https://codeql.github.com/docs/codeql-overview">CodeQL overview</a></li>
                <li class="dropdown-divider" role="separator"></li>
                <div class="dropdown-header">
                    CodeQL tools
                </div>
                <li><a class="dropdown-item" href="https://codeql.github.com/docs/codeql-for-visual-studio-code">CodeQL for VS Code</a>
                <li><a class="dropdown-item" href="https://codeql.github.com/docs/codeql-cli">CodeQL CLI</a>
                </li>
                <li class="dropdown-divider" role="separator"></li>
                <div class="dropdown-header">
                    CodeQL guides
                </div>
                <li><a class="dropdown-item" href="https://codeql.github.com/docs/writing-codeql-queries">Writing CodeQL queries</a></li>
                <li><a class="dropdown-item" href="https://codeql.github.com/docs/codeql-language-guides">CodeQL language guides</a>
                <li class="dropdown-divider" role="separator"></li>
                <div class="dropdown-header">
                    Reference docs
                </div>
                <li><a class="dropdown-item" href="https://codeql.github.com/docs/ql-language-reference/">QL language
                        reference</a>
                <li><a class="dropdown-item" href="https://codeql.github.com/codeql-standard-libraries">CodeQL
                        standard-libraries</a>
                <li><a class="dropdown-item" href="https://codeql.github.com/codeql-query-help">CodeQL
                        query help</a>
                <li class="dropdown-divider" role="separator"></li>
                <div class="dropdown-header">
                    Source files
                </div>
                <li><a class="dropdown-item" href="https://github.com/github/codeql">CodeQL repository</a>
            </ul>
        </details>

    </div>

</header>
<main class="bg-gray-light clearfix">
<nav class="SideNav position-sticky top-0 col-lg-3 col-md-3 float-left p-4 hide-sm hide-md overflow-y-auto">

    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../codeql-overview/index.html">CodeQL overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeql-for-visual-studio-code/index.html">CodeQL for Visual Studio Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeql-cli/index.html">CodeQL CLI</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Writing CodeQL queries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="codeql-queries.html">CodeQL queries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="ql-tutorials.html">QL tutorials</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="introduction-to-ql.html">Introduction to QL</a></li>
<li class="toctree-l3"><a class="reference internal" href="find-the-thief.html">Find the thief</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Catch the fire starter</a></li>
<li class="toctree-l3"><a class="reference internal" href="crown-the-rightful-heir.html">Crown the rightful heir</a></li>
<li class="toctree-l3"><a class="reference internal" href="cross-the-river.html">Cross the river</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../codeql-language-guides/index.html">CodeQL language guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ql-language-reference/index.html">QL language reference</a></li>
</ul>


</nav>


<div class="body col-sm-12 col-md-9 col-lg-9 float-left border-left">

    <div class="hide-lg hide-xl px-4 pt-4">
        
<div class="related" role="navigation" aria-label="related navigation">
    <ul>
        <li class="nav-item nav-item-0"><a href="../contents.html">CodeQL</a> &#187;</li>
        <li class="nav-item nav-item-1"><a href="index.html"
                >Writing CodeQL queries</a> &#187;</li>
        <li class="nav-item nav-item-2"><a href="ql-tutorials.html"
                accesskey="U">QL tutorials</a> &#187;</li> 
    </ul>
</div>
    </div>

    <article class="p-4 col-lg-10 col-md-10 col-sm-12">
        
  <div class="section" id="catch-the-fire-starter-1">
<span id="catch-the-fire-starter"></span><h1>Catch the fire starter<a class="headerlink" href="#catch-the-fire-starter-1" title="Permalink to this headline">¶</a></h1>
<p>Learn about QL predicates and classes to solve your second mystery as a QL detective.</p>
<p>Just as you’ve successfully found the thief and returned the golden crown to the castle, another terrible crime is committed. Early in the morning, a few people start a fire in a field in the north of the village and destroy all the crops!</p>
<p>You now have the reputation of being an expert QL detective, so you are once again asked to find the culprits.</p>
<p>This time, you have some additional information. There is a strong rivalry between the north and south of the village and you know that the criminals live in the south.</p>
<p>Read the examples below to learn how to define predicates and classes in QL. These make the logic of your queries easier to understand and will help simplify your detective work.</p>
<div class="section" id="select-the-southerners">
<h2>Select the southerners<a class="headerlink" href="#select-the-southerners" title="Permalink to this headline">¶</a></h2>
<p>This time you only need to consider a specific group of villagers, namely those living in the south of the village. Instead of writing <code class="docutils literal notranslate"><span class="pre">getLocation()</span> <span class="pre">=</span> <span class="pre">&quot;south&quot;</span></code> in all your queries, you could define a new <a class="reference internal" href="../ql-language-reference/predicates.html#predicates"><span class="std std-ref">predicate</span></a> <code class="docutils literal notranslate"><span class="pre">isSouthern</span></code>:</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">predicate</span> <span class="n">isSouthern</span><span class="p">(</span><span class="n">Person</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">p</span><span class="p">.</span><span class="n">getLocation</span><span class="p">()</span> <span class="o">=</span> <span class="s">&quot;south&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The predicate <code class="docutils literal notranslate"><span class="pre">isSouthern(p)</span></code> takes a single parameter <code class="docutils literal notranslate"><span class="pre">p</span></code> and checks if <code class="docutils literal notranslate"><span class="pre">p</span></code> satisfies the property <code class="docutils literal notranslate"><span class="pre">p.getLocation()</span> <span class="pre">=</span> <span class="pre">&quot;south&quot;</span></code>.</p>
<blockquote class="pull-quote">
<div><p>Note</p>
<ul class="simple">
<li>The name of a predicate always starts with a lowercase letter.</li>
<li>You can also define predicates with a result. In that case, the keyword <code class="docutils literal notranslate"><span class="pre">predicate</span></code> is replaced with the type of the result. This is like introducing a new argument, the special variable <code class="docutils literal notranslate"><span class="pre">result</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">getAge()</span> <span class="pre">{</span> <span class="pre">result</span> <span class="pre">=</span> <span class="pre">...</span> <span class="pre">}</span></code> returns an <code class="docutils literal notranslate"><span class="pre">int</span></code>.</li>
</ul>
</div></blockquote>
<p>You can now list all southerners using:</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="cm">/* define predicate `isSouthern` as above */</span>

<span class="k">from</span> <span class="n">Person</span> <span class="n">p</span>
<span class="k">where</span> <span class="n">isSouthern</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="k">select</span> <span class="n">p</span>
</pre></div>
</div>
<p>This is already a nice way to simplify the logic, but we could be more efficient. Currently, the query looks at every <code class="docutils literal notranslate"><span class="pre">Person</span> <span class="pre">p</span></code>, and then restricts to those who satisfy <code class="docutils literal notranslate"><span class="pre">isSouthern(p)</span></code>. Instead, we could define a new <a class="reference internal" href="../ql-language-reference/types.html#classes"><span class="std std-ref">class</span></a> <code class="docutils literal notranslate"><span class="pre">Southerner</span></code> containing precisely the people we want to consider.</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="n">Southerner</span> <span class="k">extends</span> <span class="n">Person</span> <span class="p">{</span>
  <span class="n">Southerner</span><span class="p">()</span> <span class="p">{</span> <span class="n">isSouthern</span><span class="p">(</span><span class="k">this</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A class in QL represents a logical property: when a value satisfies that property, it is a member of the class. This means that a value can be in many classes—being in a particular class doesn’t stop it from being in other classes too.</p>
<p>The expression <code class="docutils literal notranslate"><span class="pre">isSouthern(this)</span></code> defines the logical property represented by the class, called its <em>characteristic predicate</em>. It uses a special variable <code class="docutils literal notranslate"><span class="pre">this</span></code> and indicates that a <code class="docutils literal notranslate"><span class="pre">Person</span></code> “<code class="docutils literal notranslate"><span class="pre">this</span></code>” is a <code class="docutils literal notranslate"><span class="pre">Southerner</span></code> if the property <code class="docutils literal notranslate"><span class="pre">isSouthern(this)</span></code> holds.</p>
<blockquote class="pull-quote">
<div><p>Note</p>
<p>If you are familiar with object-oriented programming languages, you might be tempted to think of the characteristic predicate as a <em>constructor</em>. However, this is <strong>not</strong> the case—it is a logical property which does not create any objects.</p>
</div></blockquote>
<p>You always need to define a class in QL in terms of an existing (larger) class. In our example, a <code class="docutils literal notranslate"><span class="pre">Southerner</span></code> is a special kind of <code class="docutils literal notranslate"><span class="pre">Person</span></code>, so we say that <code class="docutils literal notranslate"><span class="pre">Southerner</span></code> <em>extends</em> (“is a subset of”) <code class="docutils literal notranslate"><span class="pre">Person</span></code>.</p>
<p>Using this class you can now list all people living in the south simply as:</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">from</span> <span class="n">Southerner</span> <span class="n">s</span>
<span class="k">select</span> <span class="n">s</span>
</pre></div>
</div>
<p>You may have noticed that some predicates are appended, for example <code class="docutils literal notranslate"><span class="pre">p.getAge()</span></code>, while others are not, for example <code class="docutils literal notranslate"><span class="pre">isSouthern(p)</span></code>. This is because <code class="docutils literal notranslate"><span class="pre">getAge()</span></code> is a member predicate, that is, a predicate that only applies to members of a class. You define such a member predicate inside a class. In this case, <code class="docutils literal notranslate"><span class="pre">getAge()</span></code> is defined inside the class <code class="docutils literal notranslate"><span class="pre">Person</span></code>. In contrast, <code class="docutils literal notranslate"><span class="pre">isSouthern</span></code> is defined separately and is not inside any classes. Member predicates are especially useful because you can chain them together easily. For example, <code class="docutils literal notranslate"><span class="pre">p.getAge().sqrt()</span></code> first gets the age of <code class="docutils literal notranslate"><span class="pre">p</span></code> and then calculates the square root of that number.</p>
</div>
<div class="section" id="travel-restrictions">
<h2>Travel restrictions<a class="headerlink" href="#travel-restrictions" title="Permalink to this headline">¶</a></h2>
<p>Another factor you want to consider is the travel restrictions imposed following the theft of the crown. Originally there were no restrictions on where villagers could travel within the village. Consequently the predicate <code class="docutils literal notranslate"><span class="pre">isAllowedIn(string</span> <span class="pre">region)</span></code> held for any person and any region. The following query lists all villagers, since they could all travel to the north:</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">from</span> <span class="n">Person</span> <span class="n">p</span>
<span class="k">where</span> <span class="n">p</span><span class="p">.</span><span class="n">isAllowedIn</span><span class="p">(</span><span class="s">&quot;north&quot;</span><span class="p">)</span>
<span class="k">select</span> <span class="n">p</span>
</pre></div>
</div>
<p>However, after the recent theft, the villagers have become more anxious of criminals lurking around the village and they no longer allow children under the age of 10 to travel out of their home region.</p>
<p>This means that <code class="docutils literal notranslate"><span class="pre">isAllowedIn(string</span> <span class="pre">region)</span></code> no longer holds for all people and all regions, so you should temporarily <em>override</em> the original predicate if <code class="docutils literal notranslate"><span class="pre">p</span></code> is a child.</p>
<p>Start by defining a class <code class="docutils literal notranslate"><span class="pre">Child</span></code> containing all villagers under 10 years old. Then you can redefine <code class="docutils literal notranslate"><span class="pre">isAllowedIn(string</span> <span class="pre">region)</span></code> as a member predicate of <code class="docutils literal notranslate"><span class="pre">Child</span></code> to allow children only to move within their own region. This is expressed by <code class="docutils literal notranslate"><span class="pre">region</span> <span class="pre">=</span> <span class="pre">this.getLocation()</span></code>.</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="n">Child</span> <span class="k">extends</span> <span class="n">Person</span> <span class="p">{</span>
  <span class="cm">/* the characteristic predicate */</span>
  <span class="n">Child</span><span class="p">()</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="n">getAge</span><span class="p">()</span> <span class="o">&lt;</span> <span class="m">10</span> <span class="p">}</span>

  <span class="cm">/* a member predicate */</span>
  <span class="kr">override </span><span class="k">predicate</span> <span class="n">isAllowedIn</span><span class="p">(</span><span class="kt">string</span> <span class="n">region</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">region</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="n">getLocation</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now try applying <code class="docutils literal notranslate"><span class="pre">isAllowedIn(string</span> <span class="pre">region)</span></code> to a person <code class="docutils literal notranslate"><span class="pre">p</span></code>. If <code class="docutils literal notranslate"><span class="pre">p</span></code> is not a child, the original definition is used, but if <code class="docutils literal notranslate"><span class="pre">p</span></code> is a child, the new predicate definition overrides the original.</p>
<p>You know that the fire starters live in the south <em>and</em> that they must have been able to travel to the north. Write a query to find the possible suspects. You could also extend the <code class="docutils literal notranslate"><span class="pre">select</span></code> clause to list the age of the suspects. That way you can clearly see that all the children have been excluded from the list.</p>
<p>➤ <a class="reference external" href="#exercise-1">Check your answer</a></p>
<p>You can now continue to gather more clues and find out which of your suspects started the fire…</p>
</div>
<div class="section" id="identify-the-bald-bandits">
<h2>Identify the bald bandits<a class="headerlink" href="#identify-the-bald-bandits" title="Permalink to this headline">¶</a></h2>
<p>You ask the northerners if they have any more information about the fire starters. Luckily, you have a witness! The farmer living next to the field saw two people run away just after the fire started. He only saw the tops of their heads, and noticed that they were both bald.</p>
<p>This is a very helpful clue. Remember that you wrote a QL query to select all bald people:</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">from</span> <span class="n">Person</span> <span class="n">p</span>
<span class="k">where</span> <span class="k">not</span> <span class="k">exists</span> <span class="p">(</span><span class="kt">string</span> <span class="n">c</span> <span class="o">|</span> <span class="n">p</span><span class="p">.</span><span class="n">getHairColor</span><span class="p">()</span> <span class="o">=</span> <span class="n">c</span><span class="p">)</span>
<span class="k">select</span> <span class="n">p</span>
</pre></div>
</div>
<p>To avoid having to type <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">exists</span> <span class="pre">(string</span> <span class="pre">c</span> <span class="pre">|</span> <span class="pre">p.getHairColor()</span> <span class="pre">=</span> <span class="pre">c)</span></code> every time you want to select a bald person, you can instead define another new predicate <code class="docutils literal notranslate"><span class="pre">isBald</span></code>.</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">predicate</span> <span class="n">isBald</span><span class="p">(</span><span class="n">Person</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">not</span> <span class="k">exists</span> <span class="p">(</span><span class="kt">string</span> <span class="n">c</span> <span class="o">|</span> <span class="n">p</span><span class="p">.</span><span class="n">getHairColor</span><span class="p">()</span> <span class="o">=</span> <span class="n">c</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The property <code class="docutils literal notranslate"><span class="pre">isBald(p)</span></code> holds whenever <code class="docutils literal notranslate"><span class="pre">p</span></code> is bald, so you can replace the previous query with:</p>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">from</span> <span class="n">Person</span> <span class="n">p</span>
<span class="k">where</span> <span class="n">isBald</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
<span class="k">select</span> <span class="n">p</span>
</pre></div>
</div>
<p>The predicate <code class="docutils literal notranslate"><span class="pre">isBald</span></code> is defined to take a <code class="docutils literal notranslate"><span class="pre">Person</span></code>, so it can also take a <code class="docutils literal notranslate"><span class="pre">Southerner</span></code>, as <code class="docutils literal notranslate"><span class="pre">Southerner</span></code> is a subtype of <code class="docutils literal notranslate"><span class="pre">Person</span></code>. It can’t take an <code class="docutils literal notranslate"><span class="pre">int</span></code> for example—that would cause an error.</p>
<p>You can now write a query to select the bald southerners who are allowed into the north.</p>
<p>➤ <a class="reference external" href="#exercise-2">Check your answer</a></p>
<p>You have found the two fire starters! They are arrested and the villagers are once again impressed with your work.</p>
</div>
<div class="section" id="further-reading">
<h2>Further reading<a class="headerlink" href="#further-reading" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>“<a class="reference internal" href="../ql-language-reference/index.html#ql-language-reference"><span class="std std-ref">QL language reference</span></a>”</li>
<li>“<a class="reference internal" href="../codeql-overview/codeql-tools.html#codeql-tools"><span class="std std-ref">CodeQL tools</span></a>”</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="answers">
<h2>Answers<a class="headerlink" href="#answers" title="Permalink to this headline">¶</a></h2>
<p>In these answers, we use <code class="docutils literal notranslate"><span class="pre">/*</span></code> and <code class="docutils literal notranslate"><span class="pre">*/</span></code> to label the different parts of the query. Any text surrounded by <code class="docutils literal notranslate"><span class="pre">/*</span></code> and <code class="docutils literal notranslate"><span class="pre">*/</span></code> is not evaluated as part of the QL code, but is treated as a <em>comment</em>.</p>
<div class="section" id="exercise-1">
<h3>Exercise 1<a class="headerlink" href="#exercise-1" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">tutorial</span>

<span class="k">predicate</span> <span class="n">isSouthern</span><span class="p">(</span><span class="n">Person</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span> <span class="n">p</span><span class="p">.</span><span class="n">getLocation</span><span class="p">()</span> <span class="o">=</span> <span class="s">&quot;south&quot;</span> <span class="p">}</span>

<span class="k">class</span> <span class="n">Southerner</span> <span class="k">extends</span> <span class="n">Person</span> <span class="p">{</span>
  <span class="cm">/* the characteristic predicate */</span>
  <span class="n">Southerner</span><span class="p">()</span> <span class="p">{</span> <span class="n">isSouthern</span><span class="p">(</span><span class="k">this</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="n">Child</span> <span class="k">extends</span> <span class="n">Person</span> <span class="p">{</span>
  <span class="cm">/* the characteristic predicate */</span>
  <span class="n">Child</span><span class="p">()</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="n">getAge</span><span class="p">()</span> <span class="o">&lt;</span> <span class="m">10</span> <span class="p">}</span>

  <span class="cm">/* a member predicate */</span>
  <span class="kr">override </span><span class="k">predicate</span> <span class="n">isAllowedIn</span><span class="p">(</span><span class="kt">string</span> <span class="n">region</span><span class="p">)</span> <span class="p">{</span> <span class="n">region</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="n">getLocation</span><span class="p">()</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">from</span> <span class="n">Southerner</span> <span class="n">s</span>
<span class="k">where</span> <span class="n">s</span><span class="p">.</span><span class="n">isAllowedIn</span><span class="p">(</span><span class="s">&quot;north&quot;</span><span class="p">)</span>
<span class="k">select</span> <span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">getAge</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="exercise-2">
<h3>Exercise 2<a class="headerlink" href="#exercise-2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ql notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="n">tutorial</span>

<span class="k">predicate</span> <span class="n">isSouthern</span><span class="p">(</span><span class="n">Person</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span> <span class="n">p</span><span class="p">.</span><span class="n">getLocation</span><span class="p">()</span> <span class="o">=</span> <span class="s">&quot;south&quot;</span> <span class="p">}</span>

<span class="k">class</span> <span class="n">Southerner</span> <span class="k">extends</span> <span class="n">Person</span> <span class="p">{</span>
  <span class="cm">/* the characteristic predicate */</span>
  <span class="n">Southerner</span><span class="p">()</span> <span class="p">{</span> <span class="n">isSouthern</span><span class="p">(</span><span class="k">this</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="n">Child</span> <span class="k">extends</span> <span class="n">Person</span> <span class="p">{</span>
  <span class="cm">/* the characteristic predicate */</span>
  <span class="n">Child</span><span class="p">()</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="n">getAge</span><span class="p">()</span> <span class="o">&lt;</span> <span class="m">10</span> <span class="p">}</span>

  <span class="cm">/* a member predicate */</span>
  <span class="kr">override </span><span class="k">predicate</span> <span class="n">isAllowedIn</span><span class="p">(</span><span class="kt">string</span> <span class="n">region</span><span class="p">)</span> <span class="p">{</span> <span class="n">region</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="n">getLocation</span><span class="p">()</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">predicate</span> <span class="n">isBald</span><span class="p">(</span><span class="n">Person</span> <span class="n">p</span><span class="p">)</span> <span class="p">{</span> <span class="k">not</span> <span class="k">exists</span><span class="p">(</span><span class="kt">string</span> <span class="n">c</span> <span class="o">|</span> <span class="n">p</span><span class="p">.</span><span class="n">getHairColor</span><span class="p">()</span> <span class="o">=</span> <span class="n">c</span><span class="p">)</span> <span class="p">}</span>

<span class="k">from</span> <span class="n">Southerner</span> <span class="n">s</span>
<span class="k">where</span> <span class="n">s</span><span class="p">.</span><span class="n">isAllowedIn</span><span class="p">(</span><span class="s">&quot;north&quot;</span><span class="p">)</span> <span class="k">and</span> <span class="n">isBald</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="k">select</span> <span class="n">s</span>
</pre></div>
</div>
</div>
</div>
</div>


    </article>

    <!-- GitHub footer, with links to terms and privacy statement -->
    <div class="px-3 px-md-6 f6 py-4 d-sm-flex flex-justify-between flex-row-reverse flex-items-center border-top">
        <ul class="list-style-none d-flex flex-items-center mb-3 mb-sm-0 lh-condensed-ultra">
            <li class="mr-3">
                <a href="https://twitter.com/github" title="GitHub on Twitter" style="color: #959da5;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 273.5 222.3" class="d-block" height="18">
                        <path
                            d="M273.5 26.3a109.77 109.77 0 0 1-32.2 8.8 56.07 56.07 0 0 0 24.7-31 113.39 113.39 0 0 1-35.7 13.6 56.1 56.1 0 0 0-97 38.4 54 54 0 0 0 1.5 12.8A159.68 159.68 0 0 1 19.1 10.3a56.12 56.12 0 0 0 17.4 74.9 56.06 56.06 0 0 1-25.4-7v.7a56.11 56.11 0 0 0 45 55 55.65 55.65 0 0 1-14.8 2 62.39 62.39 0 0 1-10.6-1 56.24 56.24 0 0 0 52.4 39 112.87 112.87 0 0 1-69.7 24 119 119 0 0 1-13.4-.8 158.83 158.83 0 0 0 86 25.2c103.2 0 159.6-85.5 159.6-159.6 0-2.4-.1-4.9-.2-7.3a114.25 114.25 0 0 0 28.1-29.1"
                            fill="currentColor"></path>
                    </svg>
                </a>
            </li>
            <li class="mr-3">
                <a href="https://www.facebook.com/GitHub" title="GitHub on Facebook" style="color: #959da5;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.3 15.4" class="d-block" height="18">
                        <path
                            d="M14.5 0H.8a.88.88 0 0 0-.8.9v13.6a.88.88 0 0 0 .8.9h7.3v-6h-2V7.1h2V5.4a2.87 2.87 0 0 1 2.5-3.1h.5a10.87 10.87 0 0 1 1.8.1v2.1h-1.3c-1 0-1.1.5-1.1 1.1v1.5h2.3l-.3 2.3h-2v5.9h3.9a.88.88 0 0 0 .9-.8V.8a.86.86 0 0 0-.8-.8z"
                            fill="currentColor"></path>
                    </svg>
                </a>
            </li>
            <li class="mr-3">
                <a href="https://www.youtube.com/github" title="GitHub on YouTube" style="color: #959da5;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.17 13.6" class="d-block" height="16">
                        <path
                            d="M18.77 2.13A2.4 2.4 0 0 0 17.09.42C15.59 0 9.58 0 9.58 0a57.55 57.55 0 0 0-7.5.4A2.49 2.49 0 0 0 .39 2.13 26.27 26.27 0 0 0 0 6.8a26.15 26.15 0 0 0 .39 4.67 2.43 2.43 0 0 0 1.69 1.71c1.52.42 7.5.42 7.5.42a57.69 57.69 0 0 0 7.51-.4 2.4 2.4 0 0 0 1.68-1.71 25.63 25.63 0 0 0 .4-4.67 24 24 0 0 0-.4-4.69zM7.67 9.71V3.89l5 2.91z"
                            fill="currentColor"></path>
                    </svg>
                </a>
            </li>
            <li class="mr-3 flex-self-start">
                <a href="https://www.linkedin.com/company/github" title="GitHub on Linkedin" style="color: #959da5;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 18" class="d-block" height="18">
                        <path
                            d="M3.94 2A2 2 0 1 1 2 0a2 2 0 0 1 1.94 2zM4 5.48H0V18h4zm6.32 0H6.34V18h3.94v-6.57c0-3.66 4.77-4 4.77 0V18H19v-7.93c0-6.17-7.06-5.94-8.72-2.91z"
                            fill="currentColor"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://github.com/github" title="GitHub's organization" style="color: #959da5;">
                    <svg version="1.1" width="20" height="20" viewBox="0 0 16 16" class="octicon octicon-mark-github"
                        aria-hidden="true">
                        <path fill-rule="evenodd"
                            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                        </path>
                    </svg>
                </a>
            </li>
        </ul>
        <ul class="list-style-none d-flex text-gray">
            <li class="mr-3">&copy; 
                <script type="text/javascript">document.write(new Date().getFullYear());</script> GitHub, Inc.</li>
            <li class="mr-3"><a
                    href="https://docs.github.com/github/site-policy/github-terms-of-service"
                    class="link-gray">Terms </a></li>
            <li><a href="https://docs.github.com/github/site-policy/github-privacy-statement"
                    class="link-gray">Privacy </a></li>
        </ul>
    </div>
</div>
</main>

<script type="text/javascript">
    $(document).ready(function () {
        $(".toggle > *").hide();
        $(".toggle .name").show();
        $(".toggle .name").click(function () {
            $(this).parent().children().not(".name").toggle(400);
            $(this).parent().children(".name").toggleClass("open");
        })
    });
</script>

  </body>
</html>