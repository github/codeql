// generated by codegen/codegen.py
import codeql.swift.elements
import codeql.swift.elements.expr.SelfApplyExpr

private module Impl {
  private Element getImmediateChildOfElement(Element e, int index, string partialPredicateCall) {
    none()
  }

  private Element getImmediateChildOfCallable(Callable e, int index, string partialPredicateCall) {
    exists(int b, int bElement, int n, int nSelfParam, int nParam, int nBody, int nCapture |
      b = 0 and
      bElement = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfElement(e, i, _)) | i) and
      n = bElement and
      nSelfParam = n + 1 and
      nParam = nSelfParam + 1 + max(int i | i = -1 or exists(e.getImmediateParam(i)) | i) and
      nBody = nParam + 1 and
      nCapture = nBody + 1 + max(int i | i = -1 or exists(e.getImmediateCapture(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfElement(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSelfParam() and partialPredicateCall = "SelfParam()"
        or
        result = e.getImmediateParam(index - nSelfParam) and
        partialPredicateCall = "Param(" + (index - nSelfParam).toString() + ")"
        or
        index = nParam and result = e.getImmediateBody() and partialPredicateCall = "Body()"
        or
        result = e.getImmediateCapture(index - nBody) and
        partialPredicateCall = "Capture(" + (index - nBody).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfFile(File e, int index, string partialPredicateCall) {
    exists(int b, int bElement, int n |
      b = 0 and
      bElement = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfElement(e, i, _)) | i) and
      n = bElement and
      (
        none()
        or
        result = getImmediateChildOfElement(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfLocatable(Locatable e, int index, string partialPredicateCall) {
    exists(int b, int bElement, int n |
      b = 0 and
      bElement = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfElement(e, i, _)) | i) and
      n = bElement and
      (
        none()
        or
        result = getImmediateChildOfElement(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfLocation(Location e, int index, string partialPredicateCall) {
    exists(int b, int bElement, int n |
      b = 0 and
      bElement = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfElement(e, i, _)) | i) and
      n = bElement and
      (
        none()
        or
        result = getImmediateChildOfElement(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAstNode(AstNode e, int index, string partialPredicateCall) {
    exists(int b, int bLocatable, int n |
      b = 0 and
      bLocatable = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLocatable(e, i, _)) | i) and
      n = bLocatable and
      (
        none()
        or
        result = getImmediateChildOfLocatable(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfComment(Comment e, int index, string partialPredicateCall) {
    exists(int b, int bLocatable, int n |
      b = 0 and
      bLocatable = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLocatable(e, i, _)) | i) and
      n = bLocatable and
      (
        none()
        or
        result = getImmediateChildOfLocatable(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDbFile(DbFile e, int index, string partialPredicateCall) {
    exists(int b, int bFile, int n |
      b = 0 and
      bFile = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfFile(e, i, _)) | i) and
      n = bFile and
      (
        none()
        or
        result = getImmediateChildOfFile(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDbLocation(DbLocation e, int index, string partialPredicateCall) {
    exists(int b, int bLocation, int n |
      b = 0 and
      bLocation = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLocation(e, i, _)) | i) and
      n = bLocation and
      (
        none()
        or
        result = getImmediateChildOfLocation(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDiagnostics(
    Diagnostics e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLocatable, int n |
      b = 0 and
      bLocatable = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLocatable(e, i, _)) | i) and
      n = bLocatable and
      (
        none()
        or
        result = getImmediateChildOfLocatable(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfErrorElement(
    ErrorElement e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLocatable, int n |
      b = 0 and
      bLocatable = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLocatable(e, i, _)) | i) and
      n = bLocatable and
      (
        none()
        or
        result = getImmediateChildOfLocatable(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfUnknownFile(
    UnknownFile e, int index, string partialPredicateCall
  ) {
    exists(int b, int bFile, int n |
      b = 0 and
      bFile = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfFile(e, i, _)) | i) and
      n = bFile and
      (
        none()
        or
        result = getImmediateChildOfFile(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfUnknownLocation(
    UnknownLocation e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLocation, int n |
      b = 0 and
      bLocation = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLocation(e, i, _)) | i) and
      n = bLocation and
      (
        none()
        or
        result = getImmediateChildOfLocation(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAvailabilityInfo(
    AvailabilityInfo e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAstNode, int n, int nSpec |
      b = 0 and
      bAstNode = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAstNode(e, i, _)) | i) and
      n = bAstNode and
      nSpec = n + 1 + max(int i | i = -1 or exists(e.getImmediateSpec(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfAstNode(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateSpec(index - n) and
        partialPredicateCall = "Spec(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfAvailabilitySpec(
    AvailabilitySpec e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAstNode, int n |
      b = 0 and
      bAstNode = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAstNode(e, i, _)) | i) and
      n = bAstNode and
      (
        none()
        or
        result = getImmediateChildOfAstNode(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfUnspecifiedElement(
    UnspecifiedElement e, int index, string partialPredicateCall
  ) {
    exists(int b, int bErrorElement, int n |
      b = 0 and
      bErrorElement =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfErrorElement(e, i, _)) | i) and
      n = bErrorElement and
      (
        none()
        or
        result = getImmediateChildOfErrorElement(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfOtherAvailabilitySpec(
    OtherAvailabilitySpec e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAvailabilitySpec, int n |
      b = 0 and
      bAvailabilitySpec =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAvailabilitySpec(e, i, _)) | i) and
      n = bAvailabilitySpec and
      (
        none()
        or
        result = getImmediateChildOfAvailabilitySpec(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfPlatformVersionAvailabilitySpec(
    PlatformVersionAvailabilitySpec e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAvailabilitySpec, int n |
      b = 0 and
      bAvailabilitySpec =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAvailabilitySpec(e, i, _)) | i) and
      n = bAvailabilitySpec and
      (
        none()
        or
        result = getImmediateChildOfAvailabilitySpec(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDecl(Decl e, int index, string partialPredicateCall) {
    exists(int b, int bAstNode, int n, int nMember |
      b = 0 and
      bAstNode = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAstNode(e, i, _)) | i) and
      n = bAstNode and
      nMember = n + 1 + max(int i | i = -1 or exists(e.getImmediateMember(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfAstNode(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateMember(index - n) and
        partialPredicateCall = "Member(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfGenericContext(
    GenericContext e, int index, string partialPredicateCall
  ) {
    exists(int b, int bElement, int n, int nGenericTypeParam |
      b = 0 and
      bElement = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfElement(e, i, _)) | i) and
      n = bElement and
      nGenericTypeParam =
        n + 1 + max(int i | i = -1 or exists(e.getImmediateGenericTypeParam(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfElement(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateGenericTypeParam(index - n) and
        partialPredicateCall = "GenericTypeParam(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfCapturedDecl(
    CapturedDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bDecl, int n |
      b = 0 and
      bDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfDecl(e, i, _)) | i) and
      n = bDecl and
      (
        none()
        or
        result = getImmediateChildOfDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfEnumCaseDecl(
    EnumCaseDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bDecl, int n |
      b = 0 and
      bDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfDecl(e, i, _)) | i) and
      n = bDecl and
      (
        none()
        or
        result = getImmediateChildOfDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfExtensionDecl(
    ExtensionDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bGenericContext, int bDecl, int n |
      b = 0 and
      bGenericContext =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfGenericContext(e, i, _)) | i) and
      bDecl =
        bGenericContext + 1 + max(int i | i = -1 or exists(getImmediateChildOfDecl(e, i, _)) | i) and
      n = bDecl and
      (
        none()
        or
        result = getImmediateChildOfGenericContext(e, index - b, partialPredicateCall)
        or
        result = getImmediateChildOfDecl(e, index - bGenericContext, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfIfConfigDecl(
    IfConfigDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bDecl, int n |
      b = 0 and
      bDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfDecl(e, i, _)) | i) and
      n = bDecl and
      (
        none()
        or
        result = getImmediateChildOfDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfImportDecl(ImportDecl e, int index, string partialPredicateCall) {
    exists(int b, int bDecl, int n |
      b = 0 and
      bDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfDecl(e, i, _)) | i) and
      n = bDecl and
      (
        none()
        or
        result = getImmediateChildOfDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfMissingMemberDecl(
    MissingMemberDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bDecl, int n |
      b = 0 and
      bDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfDecl(e, i, _)) | i) and
      n = bDecl and
      (
        none()
        or
        result = getImmediateChildOfDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfOperatorDecl(
    OperatorDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bDecl, int n |
      b = 0 and
      bDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfDecl(e, i, _)) | i) and
      n = bDecl and
      (
        none()
        or
        result = getImmediateChildOfDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfPatternBindingDecl(
    PatternBindingDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bDecl, int n, int nInit, int nPattern |
      b = 0 and
      bDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfDecl(e, i, _)) | i) and
      n = bDecl and
      nInit = n + 1 + max(int i | i = -1 or exists(e.getImmediateInit(i)) | i) and
      nPattern = nInit + 1 + max(int i | i = -1 or exists(e.getImmediatePattern(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfDecl(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateInit(index - n) and
        partialPredicateCall = "Init(" + (index - n).toString() + ")"
        or
        result = e.getImmediatePattern(index - nInit) and
        partialPredicateCall = "Pattern(" + (index - nInit).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfPoundDiagnosticDecl(
    PoundDiagnosticDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bDecl, int n, int nMessage |
      b = 0 and
      bDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfDecl(e, i, _)) | i) and
      n = bDecl and
      nMessage = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfDecl(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateMessage() and partialPredicateCall = "Message()"
      )
    )
  }

  private Element getImmediateChildOfPrecedenceGroupDecl(
    PrecedenceGroupDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bDecl, int n |
      b = 0 and
      bDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfDecl(e, i, _)) | i) and
      n = bDecl and
      (
        none()
        or
        result = getImmediateChildOfDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfTopLevelCodeDecl(
    TopLevelCodeDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bDecl, int n, int nBody |
      b = 0 and
      bDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfDecl(e, i, _)) | i) and
      n = bDecl and
      nBody = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfDecl(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateBody() and partialPredicateCall = "Body()"
      )
    )
  }

  private Element getImmediateChildOfValueDecl(ValueDecl e, int index, string partialPredicateCall) {
    exists(int b, int bDecl, int n |
      b = 0 and
      bDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfDecl(e, i, _)) | i) and
      n = bDecl and
      (
        none()
        or
        result = getImmediateChildOfDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAbstractFunctionDecl(
    AbstractFunctionDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bGenericContext, int bValueDecl, int bCallable, int n |
      b = 0 and
      bGenericContext =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfGenericContext(e, i, _)) | i) and
      bValueDecl =
        bGenericContext + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfValueDecl(e, i, _)) | i) and
      bCallable =
        bValueDecl + 1 + max(int i | i = -1 or exists(getImmediateChildOfCallable(e, i, _)) | i) and
      n = bCallable and
      (
        none()
        or
        result = getImmediateChildOfGenericContext(e, index - b, partialPredicateCall)
        or
        result = getImmediateChildOfValueDecl(e, index - bGenericContext, partialPredicateCall)
        or
        result = getImmediateChildOfCallable(e, index - bValueDecl, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAbstractStorageDecl(
    AbstractStorageDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bValueDecl, int n, int nAccessorDecl |
      b = 0 and
      bValueDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfValueDecl(e, i, _)) | i) and
      n = bValueDecl and
      nAccessorDecl = n + 1 + max(int i | i = -1 or exists(e.getImmediateAccessorDecl(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfValueDecl(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateAccessorDecl(index - n) and
        partialPredicateCall = "AccessorDecl(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfEnumElementDecl(
    EnumElementDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bValueDecl, int n, int nParam |
      b = 0 and
      bValueDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfValueDecl(e, i, _)) | i) and
      n = bValueDecl and
      nParam = n + 1 + max(int i | i = -1 or exists(e.getImmediateParam(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfValueDecl(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateParam(index - n) and
        partialPredicateCall = "Param(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfInfixOperatorDecl(
    InfixOperatorDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bOperatorDecl, int n |
      b = 0 and
      bOperatorDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfOperatorDecl(e, i, _)) | i) and
      n = bOperatorDecl and
      (
        none()
        or
        result = getImmediateChildOfOperatorDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfPostfixOperatorDecl(
    PostfixOperatorDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bOperatorDecl, int n |
      b = 0 and
      bOperatorDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfOperatorDecl(e, i, _)) | i) and
      n = bOperatorDecl and
      (
        none()
        or
        result = getImmediateChildOfOperatorDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfPrefixOperatorDecl(
    PrefixOperatorDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bOperatorDecl, int n |
      b = 0 and
      bOperatorDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfOperatorDecl(e, i, _)) | i) and
      n = bOperatorDecl and
      (
        none()
        or
        result = getImmediateChildOfOperatorDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfTypeDecl(TypeDecl e, int index, string partialPredicateCall) {
    exists(int b, int bValueDecl, int n |
      b = 0 and
      bValueDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfValueDecl(e, i, _)) | i) and
      n = bValueDecl and
      (
        none()
        or
        result = getImmediateChildOfValueDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAbstractTypeParamDecl(
    AbstractTypeParamDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bTypeDecl, int n |
      b = 0 and
      bTypeDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfTypeDecl(e, i, _)) | i) and
      n = bTypeDecl and
      (
        none()
        or
        result = getImmediateChildOfTypeDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfConstructorDecl(
    ConstructorDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAbstractFunctionDecl, int n |
      b = 0 and
      bAbstractFunctionDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAbstractFunctionDecl(e, i, _)) | i) and
      n = bAbstractFunctionDecl and
      (
        none()
        or
        result = getImmediateChildOfAbstractFunctionDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDestructorDecl(
    DestructorDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAbstractFunctionDecl, int n |
      b = 0 and
      bAbstractFunctionDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAbstractFunctionDecl(e, i, _)) | i) and
      n = bAbstractFunctionDecl and
      (
        none()
        or
        result = getImmediateChildOfAbstractFunctionDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfFuncDecl(FuncDecl e, int index, string partialPredicateCall) {
    exists(int b, int bAbstractFunctionDecl, int n |
      b = 0 and
      bAbstractFunctionDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAbstractFunctionDecl(e, i, _)) | i) and
      n = bAbstractFunctionDecl and
      (
        none()
        or
        result = getImmediateChildOfAbstractFunctionDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfGenericTypeDecl(
    GenericTypeDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bGenericContext, int bTypeDecl, int n |
      b = 0 and
      bGenericContext =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfGenericContext(e, i, _)) | i) and
      bTypeDecl =
        bGenericContext + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfTypeDecl(e, i, _)) | i) and
      n = bTypeDecl and
      (
        none()
        or
        result = getImmediateChildOfGenericContext(e, index - b, partialPredicateCall)
        or
        result = getImmediateChildOfTypeDecl(e, index - bGenericContext, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfModuleDecl(ModuleDecl e, int index, string partialPredicateCall) {
    exists(int b, int bTypeDecl, int n |
      b = 0 and
      bTypeDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfTypeDecl(e, i, _)) | i) and
      n = bTypeDecl and
      (
        none()
        or
        result = getImmediateChildOfTypeDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfSubscriptDecl(
    SubscriptDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAbstractStorageDecl, int bGenericContext, int n, int nParam |
      b = 0 and
      bAbstractStorageDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAbstractStorageDecl(e, i, _)) | i) and
      bGenericContext =
        bAbstractStorageDecl + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfGenericContext(e, i, _)) | i) and
      n = bGenericContext and
      nParam = n + 1 + max(int i | i = -1 or exists(e.getImmediateParam(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfAbstractStorageDecl(e, index - b, partialPredicateCall)
        or
        result =
          getImmediateChildOfGenericContext(e, index - bAbstractStorageDecl, partialPredicateCall)
        or
        result = e.getImmediateParam(index - n) and
        partialPredicateCall = "Param(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfVarDecl(VarDecl e, int index, string partialPredicateCall) {
    exists(
      int b, int bAbstractStorageDecl, int n, int nPropertyWrapperBackingVarBinding,
      int nPropertyWrapperBackingVar, int nPropertyWrapperProjectionVarBinding,
      int nPropertyWrapperProjectionVar
    |
      b = 0 and
      bAbstractStorageDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAbstractStorageDecl(e, i, _)) | i) and
      n = bAbstractStorageDecl and
      nPropertyWrapperBackingVarBinding = n + 1 and
      nPropertyWrapperBackingVar = nPropertyWrapperBackingVarBinding + 1 and
      nPropertyWrapperProjectionVarBinding = nPropertyWrapperBackingVar + 1 and
      nPropertyWrapperProjectionVar = nPropertyWrapperProjectionVarBinding + 1 and
      (
        none()
        or
        result = getImmediateChildOfAbstractStorageDecl(e, index - b, partialPredicateCall)
        or
        index = n and
        result = e.getImmediatePropertyWrapperBackingVarBinding() and
        partialPredicateCall = "PropertyWrapperBackingVarBinding()"
        or
        index = nPropertyWrapperBackingVarBinding and
        result = e.getImmediatePropertyWrapperBackingVar() and
        partialPredicateCall = "PropertyWrapperBackingVar()"
        or
        index = nPropertyWrapperBackingVar and
        result = e.getImmediatePropertyWrapperProjectionVarBinding() and
        partialPredicateCall = "PropertyWrapperProjectionVarBinding()"
        or
        index = nPropertyWrapperProjectionVarBinding and
        result = e.getImmediatePropertyWrapperProjectionVar() and
        partialPredicateCall = "PropertyWrapperProjectionVar()"
      )
    )
  }

  private Element getImmediateChildOfAccessorDecl(
    AccessorDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bFuncDecl, int n |
      b = 0 and
      bFuncDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfFuncDecl(e, i, _)) | i) and
      n = bFuncDecl and
      (
        none()
        or
        result = getImmediateChildOfFuncDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAssociatedTypeDecl(
    AssociatedTypeDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAbstractTypeParamDecl, int n |
      b = 0 and
      bAbstractTypeParamDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAbstractTypeParamDecl(e, i, _)) | i) and
      n = bAbstractTypeParamDecl and
      (
        none()
        or
        result = getImmediateChildOfAbstractTypeParamDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfConcreteFuncDecl(
    ConcreteFuncDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bFuncDecl, int n |
      b = 0 and
      bFuncDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfFuncDecl(e, i, _)) | i) and
      n = bFuncDecl and
      (
        none()
        or
        result = getImmediateChildOfFuncDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfConcreteVarDecl(
    ConcreteVarDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bVarDecl, int n |
      b = 0 and
      bVarDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfVarDecl(e, i, _)) | i) and
      n = bVarDecl and
      (
        none()
        or
        result = getImmediateChildOfVarDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfGenericTypeParamDecl(
    GenericTypeParamDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAbstractTypeParamDecl, int n |
      b = 0 and
      bAbstractTypeParamDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAbstractTypeParamDecl(e, i, _)) | i) and
      n = bAbstractTypeParamDecl and
      (
        none()
        or
        result = getImmediateChildOfAbstractTypeParamDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfNominalTypeDecl(
    NominalTypeDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bGenericTypeDecl, int n |
      b = 0 and
      bGenericTypeDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfGenericTypeDecl(e, i, _)) | i) and
      n = bGenericTypeDecl and
      (
        none()
        or
        result = getImmediateChildOfGenericTypeDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfOpaqueTypeDecl(
    OpaqueTypeDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bGenericTypeDecl, int n |
      b = 0 and
      bGenericTypeDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfGenericTypeDecl(e, i, _)) | i) and
      n = bGenericTypeDecl and
      (
        none()
        or
        result = getImmediateChildOfGenericTypeDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfParamDecl(ParamDecl e, int index, string partialPredicateCall) {
    exists(
      int b, int bVarDecl, int n, int nPropertyWrapperLocalWrappedVarBinding,
      int nPropertyWrapperLocalWrappedVar
    |
      b = 0 and
      bVarDecl = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfVarDecl(e, i, _)) | i) and
      n = bVarDecl and
      nPropertyWrapperLocalWrappedVarBinding = n + 1 and
      nPropertyWrapperLocalWrappedVar = nPropertyWrapperLocalWrappedVarBinding + 1 and
      (
        none()
        or
        result = getImmediateChildOfVarDecl(e, index - b, partialPredicateCall)
        or
        index = n and
        result = e.getImmediatePropertyWrapperLocalWrappedVarBinding() and
        partialPredicateCall = "PropertyWrapperLocalWrappedVarBinding()"
        or
        index = nPropertyWrapperLocalWrappedVarBinding and
        result = e.getImmediatePropertyWrapperLocalWrappedVar() and
        partialPredicateCall = "PropertyWrapperLocalWrappedVar()"
      )
    )
  }

  private Element getImmediateChildOfTypeAliasDecl(
    TypeAliasDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bGenericTypeDecl, int n |
      b = 0 and
      bGenericTypeDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfGenericTypeDecl(e, i, _)) | i) and
      n = bGenericTypeDecl and
      (
        none()
        or
        result = getImmediateChildOfGenericTypeDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfClassDecl(ClassDecl e, int index, string partialPredicateCall) {
    exists(int b, int bNominalTypeDecl, int n |
      b = 0 and
      bNominalTypeDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfNominalTypeDecl(e, i, _)) | i) and
      n = bNominalTypeDecl and
      (
        none()
        or
        result = getImmediateChildOfNominalTypeDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfEnumDecl(EnumDecl e, int index, string partialPredicateCall) {
    exists(int b, int bNominalTypeDecl, int n |
      b = 0 and
      bNominalTypeDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfNominalTypeDecl(e, i, _)) | i) and
      n = bNominalTypeDecl and
      (
        none()
        or
        result = getImmediateChildOfNominalTypeDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfProtocolDecl(
    ProtocolDecl e, int index, string partialPredicateCall
  ) {
    exists(int b, int bNominalTypeDecl, int n |
      b = 0 and
      bNominalTypeDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfNominalTypeDecl(e, i, _)) | i) and
      n = bNominalTypeDecl and
      (
        none()
        or
        result = getImmediateChildOfNominalTypeDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfStructDecl(StructDecl e, int index, string partialPredicateCall) {
    exists(int b, int bNominalTypeDecl, int n |
      b = 0 and
      bNominalTypeDecl =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfNominalTypeDecl(e, i, _)) | i) and
      n = bNominalTypeDecl and
      (
        none()
        or
        result = getImmediateChildOfNominalTypeDecl(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfArgument(Argument e, int index, string partialPredicateCall) {
    exists(int b, int bLocatable, int n, int nExpr |
      b = 0 and
      bLocatable = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLocatable(e, i, _)) | i) and
      n = bLocatable and
      nExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfLocatable(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateExpr() and partialPredicateCall = "Expr()"
      )
    )
  }

  private Element getImmediateChildOfExpr(Expr e, int index, string partialPredicateCall) {
    exists(int b, int bAstNode, int n |
      b = 0 and
      bAstNode = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAstNode(e, i, _)) | i) and
      n = bAstNode and
      (
        none()
        or
        result = getImmediateChildOfAstNode(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAbstractClosureExpr(
    AbstractClosureExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int bCallable, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      bCallable =
        bExpr + 1 + max(int i | i = -1 or exists(getImmediateChildOfCallable(e, i, _)) | i) and
      n = bCallable and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        result = getImmediateChildOfCallable(e, index - bExpr, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAnyTryExpr(AnyTryExpr e, int index, string partialPredicateCall) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfAppliedPropertyWrapperExpr(
    AppliedPropertyWrapperExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nValue |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nValue = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateValue() and partialPredicateCall = "Value()"
      )
    )
  }

  private Element getImmediateChildOfApplyExpr(ApplyExpr e, int index, string partialPredicateCall) {
    exists(int b, int bExpr, int n, int nFunction, int nArgument |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nFunction = n + 1 and
      nArgument = nFunction + 1 + max(int i | i = -1 or exists(e.getImmediateArgument(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateFunction() and partialPredicateCall = "Function()"
        or
        result = e.getImmediateArgument(index - nFunction) and
        partialPredicateCall = "Argument(" + (index - nFunction).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfAssignExpr(AssignExpr e, int index, string partialPredicateCall) {
    exists(int b, int bExpr, int n, int nDest, int nSource |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nDest = n + 1 and
      nSource = nDest + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateDest() and partialPredicateCall = "Dest()"
        or
        index = nDest and result = e.getImmediateSource() and partialPredicateCall = "Source()"
      )
    )
  }

  private Element getImmediateChildOfBindOptionalExpr(
    BindOptionalExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfCaptureListExpr(
    CaptureListExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nBindingDecl, int nClosureBody |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nBindingDecl = n + 1 + max(int i | i = -1 or exists(e.getImmediateBindingDecl(i)) | i) and
      nClosureBody = nBindingDecl + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateBindingDecl(index - n) and
        partialPredicateCall = "BindingDecl(" + (index - n).toString() + ")"
        or
        index = nBindingDecl and
        result = e.getImmediateClosureBody() and
        partialPredicateCall = "ClosureBody()"
      )
    )
  }

  private Element getImmediateChildOfCollectionExpr(
    CollectionExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDeclRefExpr(
    DeclRefExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDefaultArgumentExpr(
    DefaultArgumentExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDiscardAssignmentExpr(
    DiscardAssignmentExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDotSyntaxBaseIgnoredExpr(
    DotSyntaxBaseIgnoredExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nQualifier, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nQualifier = n + 1 and
      nSubExpr = nQualifier + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateQualifier() and partialPredicateCall = "Qualifier()"
        or
        index = nQualifier and
        result = e.getImmediateSubExpr() and
        partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfDynamicTypeExpr(
    DynamicTypeExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nBase |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nBase = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateBase() and partialPredicateCall = "Base()"
      )
    )
  }

  private Element getImmediateChildOfEnumIsCaseExpr(
    EnumIsCaseExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfErrorExpr(ErrorExpr e, int index, string partialPredicateCall) {
    exists(int b, int bExpr, int bErrorElement, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      bErrorElement =
        bExpr + 1 + max(int i | i = -1 or exists(getImmediateChildOfErrorElement(e, i, _)) | i) and
      n = bErrorElement and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        result = getImmediateChildOfErrorElement(e, index - bExpr, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfExplicitCastExpr(
    ExplicitCastExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfForceValueExpr(
    ForceValueExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfIdentityExpr(
    IdentityExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfIfExpr(IfExpr e, int index, string partialPredicateCall) {
    exists(int b, int bExpr, int n, int nCondition, int nThenExpr, int nElseExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nCondition = n + 1 and
      nThenExpr = nCondition + 1 and
      nElseExpr = nThenExpr + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateCondition() and partialPredicateCall = "Condition()"
        or
        index = nCondition and
        result = e.getImmediateThenExpr() and
        partialPredicateCall = "ThenExpr()"
        or
        index = nThenExpr and
        result = e.getImmediateElseExpr() and
        partialPredicateCall = "ElseExpr()"
      )
    )
  }

  private Element getImmediateChildOfImplicitConversionExpr(
    ImplicitConversionExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfInOutExpr(InOutExpr e, int index, string partialPredicateCall) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfKeyPathApplicationExpr(
    KeyPathApplicationExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nBase, int nKeyPath |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nBase = n + 1 and
      nKeyPath = nBase + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateBase() and partialPredicateCall = "Base()"
        or
        index = nBase and result = e.getImmediateKeyPath() and partialPredicateCall = "KeyPath()"
      )
    )
  }

  private Element getImmediateChildOfKeyPathDotExpr(
    KeyPathDotExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfKeyPathExpr(
    KeyPathExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nRoot, int nParsedPath |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nRoot = n + 1 and
      nParsedPath = nRoot + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateRoot() and partialPredicateCall = "Root()"
        or
        index = nRoot and
        result = e.getImmediateParsedPath() and
        partialPredicateCall = "ParsedPath()"
      )
    )
  }

  private Element getImmediateChildOfLazyInitializerExpr(
    LazyInitializerExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfLiteralExpr(
    LiteralExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfLookupExpr(LookupExpr e, int index, string partialPredicateCall) {
    exists(int b, int bExpr, int n, int nBase |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nBase = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateBase() and partialPredicateCall = "Base()"
      )
    )
  }

  private Element getImmediateChildOfMakeTemporarilyEscapableExpr(
    MakeTemporarilyEscapableExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nEscapingClosure, int nNonescapingClosure, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nEscapingClosure = n + 1 and
      nNonescapingClosure = nEscapingClosure + 1 and
      nSubExpr = nNonescapingClosure + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and
        result = e.getImmediateEscapingClosure() and
        partialPredicateCall = "EscapingClosure()"
        or
        index = nEscapingClosure and
        result = e.getImmediateNonescapingClosure() and
        partialPredicateCall = "NonescapingClosure()"
        or
        index = nNonescapingClosure and
        result = e.getImmediateSubExpr() and
        partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfObjCSelectorExpr(
    ObjCSelectorExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfOneWayExpr(OneWayExpr e, int index, string partialPredicateCall) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfOpaqueValueExpr(
    OpaqueValueExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfOpenExistentialExpr(
    OpenExistentialExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nSubExpr, int nExistential, int nOpaqueExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      nExistential = nSubExpr + 1 and
      nOpaqueExpr = nExistential + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
        or
        index = nSubExpr and
        result = e.getImmediateExistential() and
        partialPredicateCall = "Existential()"
        or
        index = nExistential and
        result = e.getImmediateOpaqueExpr() and
        partialPredicateCall = "OpaqueExpr()"
      )
    )
  }

  private Element getImmediateChildOfOptionalEvaluationExpr(
    OptionalEvaluationExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfOtherConstructorDeclRefExpr(
    OtherConstructorDeclRefExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfOverloadedDeclRefExpr(
    OverloadedDeclRefExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int bErrorElement, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      bErrorElement =
        bExpr + 1 + max(int i | i = -1 or exists(getImmediateChildOfErrorElement(e, i, _)) | i) and
      n = bErrorElement and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        result = getImmediateChildOfErrorElement(e, index - bExpr, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfPropertyWrapperValuePlaceholderExpr(
    PropertyWrapperValuePlaceholderExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfRebindSelfInConstructorExpr(
    RebindSelfInConstructorExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfSequenceExpr(
    SequenceExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nElement |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nElement = n + 1 + max(int i | i = -1 or exists(e.getImmediateElement(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateElement(index - n) and
        partialPredicateCall = "Element(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfSuperRefExpr(
    SuperRefExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfTapExpr(TapExpr e, int index, string partialPredicateCall) {
    exists(int b, int bExpr, int n, int nSubExpr, int nBody |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      nBody = nSubExpr + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
        or
        index = nSubExpr and result = e.getImmediateBody() and partialPredicateCall = "Body()"
      )
    )
  }

  private Element getImmediateChildOfTupleElementExpr(
    TupleElementExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfTupleExpr(TupleExpr e, int index, string partialPredicateCall) {
    exists(int b, int bExpr, int n, int nElement |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nElement = n + 1 + max(int i | i = -1 or exists(e.getImmediateElement(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateElement(index - n) and
        partialPredicateCall = "Element(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfTypeExpr(TypeExpr e, int index, string partialPredicateCall) {
    exists(int b, int bExpr, int n, int nTypeRepr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nTypeRepr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateTypeRepr() and partialPredicateCall = "TypeRepr()"
      )
    )
  }

  private Element getImmediateChildOfUnresolvedDeclRefExpr(
    UnresolvedDeclRefExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int bErrorElement, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      bErrorElement =
        bExpr + 1 + max(int i | i = -1 or exists(getImmediateChildOfErrorElement(e, i, _)) | i) and
      n = bErrorElement and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        result = getImmediateChildOfErrorElement(e, index - bExpr, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfUnresolvedDotExpr(
    UnresolvedDotExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int bErrorElement, int n, int nBase |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      bErrorElement =
        bExpr + 1 + max(int i | i = -1 or exists(getImmediateChildOfErrorElement(e, i, _)) | i) and
      n = bErrorElement and
      nBase = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        result = getImmediateChildOfErrorElement(e, index - bExpr, partialPredicateCall)
        or
        index = n and result = e.getImmediateBase() and partialPredicateCall = "Base()"
      )
    )
  }

  private Element getImmediateChildOfUnresolvedMemberExpr(
    UnresolvedMemberExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int bErrorElement, int n |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      bErrorElement =
        bExpr + 1 + max(int i | i = -1 or exists(getImmediateChildOfErrorElement(e, i, _)) | i) and
      n = bErrorElement and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        result = getImmediateChildOfErrorElement(e, index - bExpr, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfUnresolvedPatternExpr(
    UnresolvedPatternExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int bErrorElement, int n, int nSubPattern |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      bErrorElement =
        bExpr + 1 + max(int i | i = -1 or exists(getImmediateChildOfErrorElement(e, i, _)) | i) and
      n = bErrorElement and
      nSubPattern = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        result = getImmediateChildOfErrorElement(e, index - bExpr, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubPattern() and partialPredicateCall = "SubPattern()"
      )
    )
  }

  private Element getImmediateChildOfUnresolvedSpecializeExpr(
    UnresolvedSpecializeExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int bErrorElement, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      bErrorElement =
        bExpr + 1 + max(int i | i = -1 or exists(getImmediateChildOfErrorElement(e, i, _)) | i) and
      n = bErrorElement and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        result = getImmediateChildOfErrorElement(e, index - bExpr, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfVarargExpansionExpr(
    VarargExpansionExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExpr, int n, int nSubExpr |
      b = 0 and
      bExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExpr(e, i, _)) | i) and
      n = bExpr and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfAbiSafeConversionExpr(
    AbiSafeConversionExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAnyHashableErasureExpr(
    AnyHashableErasureExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfArchetypeToSuperExpr(
    ArchetypeToSuperExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfArrayExpr(ArrayExpr e, int index, string partialPredicateCall) {
    exists(int b, int bCollectionExpr, int n, int nElement |
      b = 0 and
      bCollectionExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfCollectionExpr(e, i, _)) | i) and
      n = bCollectionExpr and
      nElement = n + 1 + max(int i | i = -1 or exists(e.getImmediateElement(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfCollectionExpr(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateElement(index - n) and
        partialPredicateCall = "Element(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfArrayToPointerExpr(
    ArrayToPointerExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAutoClosureExpr(
    AutoClosureExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAbstractClosureExpr, int n |
      b = 0 and
      bAbstractClosureExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAbstractClosureExpr(e, i, _)) | i) and
      n = bAbstractClosureExpr and
      (
        none()
        or
        result = getImmediateChildOfAbstractClosureExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAwaitExpr(AwaitExpr e, int index, string partialPredicateCall) {
    exists(int b, int bIdentityExpr, int n |
      b = 0 and
      bIdentityExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfIdentityExpr(e, i, _)) | i) and
      n = bIdentityExpr and
      (
        none()
        or
        result = getImmediateChildOfIdentityExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBinaryExpr(BinaryExpr e, int index, string partialPredicateCall) {
    exists(int b, int bApplyExpr, int n |
      b = 0 and
      bApplyExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfApplyExpr(e, i, _)) | i) and
      n = bApplyExpr and
      (
        none()
        or
        result = getImmediateChildOfApplyExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBridgeFromObjCExpr(
    BridgeFromObjCExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBridgeToObjCExpr(
    BridgeToObjCExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBuiltinLiteralExpr(
    BuiltinLiteralExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLiteralExpr, int n |
      b = 0 and
      bLiteralExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLiteralExpr(e, i, _)) | i) and
      n = bLiteralExpr and
      (
        none()
        or
        result = getImmediateChildOfLiteralExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfCallExpr(CallExpr e, int index, string partialPredicateCall) {
    exists(int b, int bApplyExpr, int n |
      b = 0 and
      bApplyExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfApplyExpr(e, i, _)) | i) and
      n = bApplyExpr and
      (
        none()
        or
        result = getImmediateChildOfApplyExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfCheckedCastExpr(
    CheckedCastExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bExplicitCastExpr, int n |
      b = 0 and
      bExplicitCastExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExplicitCastExpr(e, i, _)) | i) and
      n = bExplicitCastExpr and
      (
        none()
        or
        result = getImmediateChildOfExplicitCastExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfClassMetatypeToObjectExpr(
    ClassMetatypeToObjectExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfClosureExpr(
    ClosureExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAbstractClosureExpr, int n |
      b = 0 and
      bAbstractClosureExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAbstractClosureExpr(e, i, _)) | i) and
      n = bAbstractClosureExpr and
      (
        none()
        or
        result = getImmediateChildOfAbstractClosureExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfCoerceExpr(CoerceExpr e, int index, string partialPredicateCall) {
    exists(int b, int bExplicitCastExpr, int n |
      b = 0 and
      bExplicitCastExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfExplicitCastExpr(e, i, _)) | i) and
      n = bExplicitCastExpr and
      (
        none()
        or
        result = getImmediateChildOfExplicitCastExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfCollectionUpcastConversionExpr(
    CollectionUpcastConversionExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfConditionalBridgeFromObjCExpr(
    ConditionalBridgeFromObjCExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfCovariantFunctionConversionExpr(
    CovariantFunctionConversionExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfCovariantReturnConversionExpr(
    CovariantReturnConversionExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDerivedToBaseExpr(
    DerivedToBaseExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDestructureTupleExpr(
    DestructureTupleExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDictionaryExpr(
    DictionaryExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bCollectionExpr, int n, int nElement |
      b = 0 and
      bCollectionExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfCollectionExpr(e, i, _)) | i) and
      n = bCollectionExpr and
      nElement = n + 1 + max(int i | i = -1 or exists(e.getImmediateElement(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfCollectionExpr(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateElement(index - n) and
        partialPredicateCall = "Element(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfDifferentiableFunctionExpr(
    DifferentiableFunctionExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDifferentiableFunctionExtractOriginalExpr(
    DifferentiableFunctionExtractOriginalExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDotSelfExpr(
    DotSelfExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bIdentityExpr, int n |
      b = 0 and
      bIdentityExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfIdentityExpr(e, i, _)) | i) and
      n = bIdentityExpr and
      (
        none()
        or
        result = getImmediateChildOfIdentityExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDynamicLookupExpr(
    DynamicLookupExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLookupExpr, int n |
      b = 0 and
      bLookupExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLookupExpr(e, i, _)) | i) and
      n = bLookupExpr and
      (
        none()
        or
        result = getImmediateChildOfLookupExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfErasureExpr(
    ErasureExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfExistentialMetatypeToObjectExpr(
    ExistentialMetatypeToObjectExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfForceTryExpr(
    ForceTryExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAnyTryExpr, int n |
      b = 0 and
      bAnyTryExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAnyTryExpr(e, i, _)) | i) and
      n = bAnyTryExpr and
      (
        none()
        or
        result = getImmediateChildOfAnyTryExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfForeignObjectConversionExpr(
    ForeignObjectConversionExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfFunctionConversionExpr(
    FunctionConversionExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfInOutToPointerExpr(
    InOutToPointerExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfInjectIntoOptionalExpr(
    InjectIntoOptionalExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfInterpolatedStringLiteralExpr(
    InterpolatedStringLiteralExpr e, int index, string partialPredicateCall
  ) {
    exists(
      int b, int bLiteralExpr, int n, int nInterpolationCountExpr, int nLiteralCapacityExpr,
      int nAppendingExpr
    |
      b = 0 and
      bLiteralExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLiteralExpr(e, i, _)) | i) and
      n = bLiteralExpr and
      nInterpolationCountExpr = n + 1 and
      nLiteralCapacityExpr = nInterpolationCountExpr + 1 and
      nAppendingExpr = nLiteralCapacityExpr + 1 and
      (
        none()
        or
        result = getImmediateChildOfLiteralExpr(e, index - b, partialPredicateCall)
        or
        index = n and
        result = e.getImmediateInterpolationCountExpr() and
        partialPredicateCall = "InterpolationCountExpr()"
        or
        index = nInterpolationCountExpr and
        result = e.getImmediateLiteralCapacityExpr() and
        partialPredicateCall = "LiteralCapacityExpr()"
        or
        index = nLiteralCapacityExpr and
        result = e.getImmediateAppendingExpr() and
        partialPredicateCall = "AppendingExpr()"
      )
    )
  }

  private Element getImmediateChildOfLinearFunctionExpr(
    LinearFunctionExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfLinearFunctionExtractOriginalExpr(
    LinearFunctionExtractOriginalExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfLinearToDifferentiableFunctionExpr(
    LinearToDifferentiableFunctionExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfLoadExpr(LoadExpr e, int index, string partialPredicateCall) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfMemberRefExpr(
    MemberRefExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLookupExpr, int n |
      b = 0 and
      bLookupExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLookupExpr(e, i, _)) | i) and
      n = bLookupExpr and
      (
        none()
        or
        result = getImmediateChildOfLookupExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfMetatypeConversionExpr(
    MetatypeConversionExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfMethodLookupExpr(
    MethodLookupExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLookupExpr, int n, int nMethodRef |
      b = 0 and
      bLookupExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLookupExpr(e, i, _)) | i) and
      n = bLookupExpr and
      nMethodRef = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfLookupExpr(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateMethodRef() and partialPredicateCall = "MethodRef()"
      )
    )
  }

  private Element getImmediateChildOfNilLiteralExpr(
    NilLiteralExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLiteralExpr, int n |
      b = 0 and
      bLiteralExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLiteralExpr(e, i, _)) | i) and
      n = bLiteralExpr and
      (
        none()
        or
        result = getImmediateChildOfLiteralExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfObjectLiteralExpr(
    ObjectLiteralExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLiteralExpr, int n, int nArgument |
      b = 0 and
      bLiteralExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLiteralExpr(e, i, _)) | i) and
      n = bLiteralExpr and
      nArgument = n + 1 + max(int i | i = -1 or exists(e.getImmediateArgument(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfLiteralExpr(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateArgument(index - n) and
        partialPredicateCall = "Argument(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfOptionalTryExpr(
    OptionalTryExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAnyTryExpr, int n |
      b = 0 and
      bAnyTryExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAnyTryExpr(e, i, _)) | i) and
      n = bAnyTryExpr and
      (
        none()
        or
        result = getImmediateChildOfAnyTryExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfParenExpr(ParenExpr e, int index, string partialPredicateCall) {
    exists(int b, int bIdentityExpr, int n |
      b = 0 and
      bIdentityExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfIdentityExpr(e, i, _)) | i) and
      n = bIdentityExpr and
      (
        none()
        or
        result = getImmediateChildOfIdentityExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfPointerToPointerExpr(
    PointerToPointerExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfPostfixUnaryExpr(
    PostfixUnaryExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bApplyExpr, int n |
      b = 0 and
      bApplyExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfApplyExpr(e, i, _)) | i) and
      n = bApplyExpr and
      (
        none()
        or
        result = getImmediateChildOfApplyExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfPrefixUnaryExpr(
    PrefixUnaryExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bApplyExpr, int n |
      b = 0 and
      bApplyExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfApplyExpr(e, i, _)) | i) and
      n = bApplyExpr and
      (
        none()
        or
        result = getImmediateChildOfApplyExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfProtocolMetatypeToObjectExpr(
    ProtocolMetatypeToObjectExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfRegexLiteralExpr(
    RegexLiteralExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLiteralExpr, int n |
      b = 0 and
      bLiteralExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLiteralExpr(e, i, _)) | i) and
      n = bLiteralExpr and
      (
        none()
        or
        result = getImmediateChildOfLiteralExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfSelfApplyExpr(
    SelfApplyExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bApplyExpr, int n |
      b = 0 and
      bApplyExpr = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfApplyExpr(e, i, _)) | i) and
      n = bApplyExpr and
      (
        none()
        or
        result = getImmediateChildOfApplyExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfStringToPointerExpr(
    StringToPointerExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfSubscriptExpr(
    SubscriptExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLookupExpr, int n, int nArgument |
      b = 0 and
      bLookupExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLookupExpr(e, i, _)) | i) and
      n = bLookupExpr and
      nArgument = n + 1 + max(int i | i = -1 or exists(e.getImmediateArgument(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfLookupExpr(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateArgument(index - n) and
        partialPredicateCall = "Argument(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfTryExpr(TryExpr e, int index, string partialPredicateCall) {
    exists(int b, int bAnyTryExpr, int n |
      b = 0 and
      bAnyTryExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAnyTryExpr(e, i, _)) | i) and
      n = bAnyTryExpr and
      (
        none()
        or
        result = getImmediateChildOfAnyTryExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfUnderlyingToOpaqueExpr(
    UnderlyingToOpaqueExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfUnevaluatedInstanceExpr(
    UnevaluatedInstanceExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      n = bImplicitConversionExpr and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfUnresolvedMemberChainResultExpr(
    UnresolvedMemberChainResultExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bIdentityExpr, int bErrorElement, int n |
      b = 0 and
      bIdentityExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfIdentityExpr(e, i, _)) | i) and
      bErrorElement =
        bIdentityExpr + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfErrorElement(e, i, _)) | i) and
      n = bErrorElement and
      (
        none()
        or
        result = getImmediateChildOfIdentityExpr(e, index - b, partialPredicateCall)
        or
        result = getImmediateChildOfErrorElement(e, index - bIdentityExpr, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfUnresolvedTypeConversionExpr(
    UnresolvedTypeConversionExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bImplicitConversionExpr, int bErrorElement, int n |
      b = 0 and
      bImplicitConversionExpr =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfImplicitConversionExpr(e, i, _)) | i) and
      bErrorElement =
        bImplicitConversionExpr + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfErrorElement(e, i, _)) | i) and
      n = bErrorElement and
      (
        none()
        or
        result = getImmediateChildOfImplicitConversionExpr(e, index - b, partialPredicateCall)
        or
        result =
          getImmediateChildOfErrorElement(e, index - bImplicitConversionExpr, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBooleanLiteralExpr(
    BooleanLiteralExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinLiteralExpr, int n |
      b = 0 and
      bBuiltinLiteralExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinLiteralExpr(e, i, _)) | i) and
      n = bBuiltinLiteralExpr and
      (
        none()
        or
        result = getImmediateChildOfBuiltinLiteralExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfConditionalCheckedCastExpr(
    ConditionalCheckedCastExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bCheckedCastExpr, int n |
      b = 0 and
      bCheckedCastExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfCheckedCastExpr(e, i, _)) | i) and
      n = bCheckedCastExpr and
      (
        none()
        or
        result = getImmediateChildOfCheckedCastExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfConstructorRefCallExpr(
    ConstructorRefCallExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bSelfApplyExpr, int n |
      b = 0 and
      bSelfApplyExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfSelfApplyExpr(e, i, _)) | i) and
      n = bSelfApplyExpr and
      (
        none()
        or
        result = getImmediateChildOfSelfApplyExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDotSyntaxCallExpr(
    DotSyntaxCallExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bSelfApplyExpr, int n |
      b = 0 and
      bSelfApplyExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfSelfApplyExpr(e, i, _)) | i) and
      n = bSelfApplyExpr and
      (
        none()
        or
        result = getImmediateChildOfSelfApplyExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDynamicMemberRefExpr(
    DynamicMemberRefExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bDynamicLookupExpr, int n |
      b = 0 and
      bDynamicLookupExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfDynamicLookupExpr(e, i, _)) | i) and
      n = bDynamicLookupExpr and
      (
        none()
        or
        result = getImmediateChildOfDynamicLookupExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDynamicSubscriptExpr(
    DynamicSubscriptExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bDynamicLookupExpr, int n |
      b = 0 and
      bDynamicLookupExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfDynamicLookupExpr(e, i, _)) | i) and
      n = bDynamicLookupExpr and
      (
        none()
        or
        result = getImmediateChildOfDynamicLookupExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfForcedCheckedCastExpr(
    ForcedCheckedCastExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bCheckedCastExpr, int n |
      b = 0 and
      bCheckedCastExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfCheckedCastExpr(e, i, _)) | i) and
      n = bCheckedCastExpr and
      (
        none()
        or
        result = getImmediateChildOfCheckedCastExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfIsExpr(IsExpr e, int index, string partialPredicateCall) {
    exists(int b, int bCheckedCastExpr, int n |
      b = 0 and
      bCheckedCastExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfCheckedCastExpr(e, i, _)) | i) and
      n = bCheckedCastExpr and
      (
        none()
        or
        result = getImmediateChildOfCheckedCastExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfMagicIdentifierLiteralExpr(
    MagicIdentifierLiteralExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinLiteralExpr, int n |
      b = 0 and
      bBuiltinLiteralExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinLiteralExpr(e, i, _)) | i) and
      n = bBuiltinLiteralExpr and
      (
        none()
        or
        result = getImmediateChildOfBuiltinLiteralExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfNumberLiteralExpr(
    NumberLiteralExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinLiteralExpr, int n |
      b = 0 and
      bBuiltinLiteralExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinLiteralExpr(e, i, _)) | i) and
      n = bBuiltinLiteralExpr and
      (
        none()
        or
        result = getImmediateChildOfBuiltinLiteralExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfStringLiteralExpr(
    StringLiteralExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinLiteralExpr, int n |
      b = 0 and
      bBuiltinLiteralExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinLiteralExpr(e, i, _)) | i) and
      n = bBuiltinLiteralExpr and
      (
        none()
        or
        result = getImmediateChildOfBuiltinLiteralExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfFloatLiteralExpr(
    FloatLiteralExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bNumberLiteralExpr, int n |
      b = 0 and
      bNumberLiteralExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfNumberLiteralExpr(e, i, _)) | i) and
      n = bNumberLiteralExpr and
      (
        none()
        or
        result = getImmediateChildOfNumberLiteralExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfIntegerLiteralExpr(
    IntegerLiteralExpr e, int index, string partialPredicateCall
  ) {
    exists(int b, int bNumberLiteralExpr, int n |
      b = 0 and
      bNumberLiteralExpr =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfNumberLiteralExpr(e, i, _)) | i) and
      n = bNumberLiteralExpr and
      (
        none()
        or
        result = getImmediateChildOfNumberLiteralExpr(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfPattern(Pattern e, int index, string partialPredicateCall) {
    exists(int b, int bAstNode, int n |
      b = 0 and
      bAstNode = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAstNode(e, i, _)) | i) and
      n = bAstNode and
      (
        none()
        or
        result = getImmediateChildOfAstNode(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAnyPattern(AnyPattern e, int index, string partialPredicateCall) {
    exists(int b, int bPattern, int n |
      b = 0 and
      bPattern = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfPattern(e, i, _)) | i) and
      n = bPattern and
      (
        none()
        or
        result = getImmediateChildOfPattern(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBindingPattern(
    BindingPattern e, int index, string partialPredicateCall
  ) {
    exists(int b, int bPattern, int n, int nSubPattern |
      b = 0 and
      bPattern = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfPattern(e, i, _)) | i) and
      n = bPattern and
      nSubPattern = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfPattern(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubPattern() and partialPredicateCall = "SubPattern()"
      )
    )
  }

  private Element getImmediateChildOfBoolPattern(
    BoolPattern e, int index, string partialPredicateCall
  ) {
    exists(int b, int bPattern, int n |
      b = 0 and
      bPattern = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfPattern(e, i, _)) | i) and
      n = bPattern and
      (
        none()
        or
        result = getImmediateChildOfPattern(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfEnumElementPattern(
    EnumElementPattern e, int index, string partialPredicateCall
  ) {
    exists(int b, int bPattern, int n, int nSubPattern |
      b = 0 and
      bPattern = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfPattern(e, i, _)) | i) and
      n = bPattern and
      nSubPattern = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfPattern(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubPattern() and partialPredicateCall = "SubPattern()"
      )
    )
  }

  private Element getImmediateChildOfExprPattern(
    ExprPattern e, int index, string partialPredicateCall
  ) {
    exists(int b, int bPattern, int n, int nSubExpr |
      b = 0 and
      bPattern = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfPattern(e, i, _)) | i) and
      n = bPattern and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfPattern(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfIsPattern(IsPattern e, int index, string partialPredicateCall) {
    exists(int b, int bPattern, int n, int nCastTypeRepr, int nSubPattern |
      b = 0 and
      bPattern = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfPattern(e, i, _)) | i) and
      n = bPattern and
      nCastTypeRepr = n + 1 and
      nSubPattern = nCastTypeRepr + 1 and
      (
        none()
        or
        result = getImmediateChildOfPattern(e, index - b, partialPredicateCall)
        or
        index = n and
        result = e.getImmediateCastTypeRepr() and
        partialPredicateCall = "CastTypeRepr()"
        or
        index = nCastTypeRepr and
        result = e.getImmediateSubPattern() and
        partialPredicateCall = "SubPattern()"
      )
    )
  }

  private Element getImmediateChildOfNamedPattern(
    NamedPattern e, int index, string partialPredicateCall
  ) {
    exists(int b, int bPattern, int n |
      b = 0 and
      bPattern = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfPattern(e, i, _)) | i) and
      n = bPattern and
      (
        none()
        or
        result = getImmediateChildOfPattern(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfOptionalSomePattern(
    OptionalSomePattern e, int index, string partialPredicateCall
  ) {
    exists(int b, int bPattern, int n, int nSubPattern |
      b = 0 and
      bPattern = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfPattern(e, i, _)) | i) and
      n = bPattern and
      nSubPattern = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfPattern(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubPattern() and partialPredicateCall = "SubPattern()"
      )
    )
  }

  private Element getImmediateChildOfParenPattern(
    ParenPattern e, int index, string partialPredicateCall
  ) {
    exists(int b, int bPattern, int n, int nSubPattern |
      b = 0 and
      bPattern = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfPattern(e, i, _)) | i) and
      n = bPattern and
      nSubPattern = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfPattern(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubPattern() and partialPredicateCall = "SubPattern()"
      )
    )
  }

  private Element getImmediateChildOfTuplePattern(
    TuplePattern e, int index, string partialPredicateCall
  ) {
    exists(int b, int bPattern, int n, int nElement |
      b = 0 and
      bPattern = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfPattern(e, i, _)) | i) and
      n = bPattern and
      nElement = n + 1 + max(int i | i = -1 or exists(e.getImmediateElement(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfPattern(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateElement(index - n) and
        partialPredicateCall = "Element(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfTypedPattern(
    TypedPattern e, int index, string partialPredicateCall
  ) {
    exists(int b, int bPattern, int n, int nSubPattern, int nTypeRepr |
      b = 0 and
      bPattern = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfPattern(e, i, _)) | i) and
      n = bPattern and
      nSubPattern = n + 1 and
      nTypeRepr = nSubPattern + 1 and
      (
        none()
        or
        result = getImmediateChildOfPattern(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubPattern() and partialPredicateCall = "SubPattern()"
        or
        index = nSubPattern and
        result = e.getImmediateTypeRepr() and
        partialPredicateCall = "TypeRepr()"
      )
    )
  }

  private Element getImmediateChildOfCaseLabelItem(
    CaseLabelItem e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAstNode, int n, int nPattern, int nGuard |
      b = 0 and
      bAstNode = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAstNode(e, i, _)) | i) and
      n = bAstNode and
      nPattern = n + 1 and
      nGuard = nPattern + 1 and
      (
        none()
        or
        result = getImmediateChildOfAstNode(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediatePattern() and partialPredicateCall = "Pattern()"
        or
        index = nPattern and result = e.getImmediateGuard() and partialPredicateCall = "Guard()"
      )
    )
  }

  private Element getImmediateChildOfConditionElement(
    ConditionElement e, int index, string partialPredicateCall
  ) {
    exists(
      int b, int bAstNode, int n, int nBoolean, int nPattern, int nInitializer, int nAvailability
    |
      b = 0 and
      bAstNode = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAstNode(e, i, _)) | i) and
      n = bAstNode and
      nBoolean = n + 1 and
      nPattern = nBoolean + 1 and
      nInitializer = nPattern + 1 and
      nAvailability = nInitializer + 1 and
      (
        none()
        or
        result = getImmediateChildOfAstNode(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateBoolean() and partialPredicateCall = "Boolean()"
        or
        index = nBoolean and result = e.getImmediatePattern() and partialPredicateCall = "Pattern()"
        or
        index = nPattern and
        result = e.getImmediateInitializer() and
        partialPredicateCall = "Initializer()"
        or
        index = nInitializer and
        result = e.getImmediateAvailability() and
        partialPredicateCall = "Availability()"
      )
    )
  }

  private Element getImmediateChildOfStmt(Stmt e, int index, string partialPredicateCall) {
    exists(int b, int bAstNode, int n |
      b = 0 and
      bAstNode = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAstNode(e, i, _)) | i) and
      n = bAstNode and
      (
        none()
        or
        result = getImmediateChildOfAstNode(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfStmtCondition(
    StmtCondition e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAstNode, int n, int nElement |
      b = 0 and
      bAstNode = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAstNode(e, i, _)) | i) and
      n = bAstNode and
      nElement = n + 1 + max(int i | i = -1 or exists(e.getImmediateElement(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfAstNode(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateElement(index - n) and
        partialPredicateCall = "Element(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfBraceStmt(BraceStmt e, int index, string partialPredicateCall) {
    exists(int b, int bStmt, int n, int nElement |
      b = 0 and
      bStmt = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfStmt(e, i, _)) | i) and
      n = bStmt and
      nElement = n + 1 + max(int i | i = -1 or exists(e.getImmediateElement(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfStmt(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateElement(index - n) and
        partialPredicateCall = "Element(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfBreakStmt(BreakStmt e, int index, string partialPredicateCall) {
    exists(int b, int bStmt, int n |
      b = 0 and
      bStmt = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfStmt(e, i, _)) | i) and
      n = bStmt and
      (
        none()
        or
        result = getImmediateChildOfStmt(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfCaseStmt(CaseStmt e, int index, string partialPredicateCall) {
    exists(int b, int bStmt, int n, int nBody, int nLabel |
      b = 0 and
      bStmt = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfStmt(e, i, _)) | i) and
      n = bStmt and
      nBody = n + 1 and
      nLabel = nBody + 1 + max(int i | i = -1 or exists(e.getImmediateLabel(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfStmt(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateBody() and partialPredicateCall = "Body()"
        or
        result = e.getImmediateLabel(index - nBody) and
        partialPredicateCall = "Label(" + (index - nBody).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfContinueStmt(
    ContinueStmt e, int index, string partialPredicateCall
  ) {
    exists(int b, int bStmt, int n |
      b = 0 and
      bStmt = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfStmt(e, i, _)) | i) and
      n = bStmt and
      (
        none()
        or
        result = getImmediateChildOfStmt(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDeferStmt(DeferStmt e, int index, string partialPredicateCall) {
    exists(int b, int bStmt, int n, int nBody |
      b = 0 and
      bStmt = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfStmt(e, i, _)) | i) and
      n = bStmt and
      nBody = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfStmt(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateBody() and partialPredicateCall = "Body()"
      )
    )
  }

  private Element getImmediateChildOfFailStmt(FailStmt e, int index, string partialPredicateCall) {
    exists(int b, int bStmt, int n |
      b = 0 and
      bStmt = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfStmt(e, i, _)) | i) and
      n = bStmt and
      (
        none()
        or
        result = getImmediateChildOfStmt(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfFallthroughStmt(
    FallthroughStmt e, int index, string partialPredicateCall
  ) {
    exists(int b, int bStmt, int n |
      b = 0 and
      bStmt = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfStmt(e, i, _)) | i) and
      n = bStmt and
      (
        none()
        or
        result = getImmediateChildOfStmt(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfLabeledStmt(
    LabeledStmt e, int index, string partialPredicateCall
  ) {
    exists(int b, int bStmt, int n |
      b = 0 and
      bStmt = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfStmt(e, i, _)) | i) and
      n = bStmt and
      (
        none()
        or
        result = getImmediateChildOfStmt(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfPoundAssertStmt(
    PoundAssertStmt e, int index, string partialPredicateCall
  ) {
    exists(int b, int bStmt, int n |
      b = 0 and
      bStmt = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfStmt(e, i, _)) | i) and
      n = bStmt and
      (
        none()
        or
        result = getImmediateChildOfStmt(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfReturnStmt(ReturnStmt e, int index, string partialPredicateCall) {
    exists(int b, int bStmt, int n, int nResult |
      b = 0 and
      bStmt = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfStmt(e, i, _)) | i) and
      n = bStmt and
      nResult = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfStmt(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateResult() and partialPredicateCall = "Result()"
      )
    )
  }

  private Element getImmediateChildOfThrowStmt(ThrowStmt e, int index, string partialPredicateCall) {
    exists(int b, int bStmt, int n, int nSubExpr |
      b = 0 and
      bStmt = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfStmt(e, i, _)) | i) and
      n = bStmt and
      nSubExpr = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfStmt(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateSubExpr() and partialPredicateCall = "SubExpr()"
      )
    )
  }

  private Element getImmediateChildOfYieldStmt(YieldStmt e, int index, string partialPredicateCall) {
    exists(int b, int bStmt, int n, int nResult |
      b = 0 and
      bStmt = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfStmt(e, i, _)) | i) and
      n = bStmt and
      nResult = n + 1 + max(int i | i = -1 or exists(e.getImmediateResult(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfStmt(e, index - b, partialPredicateCall)
        or
        result = e.getImmediateResult(index - n) and
        partialPredicateCall = "Result(" + (index - n).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfDoCatchStmt(
    DoCatchStmt e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLabeledStmt, int n, int nBody, int nCatch |
      b = 0 and
      bLabeledStmt =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLabeledStmt(e, i, _)) | i) and
      n = bLabeledStmt and
      nBody = n + 1 and
      nCatch = nBody + 1 + max(int i | i = -1 or exists(e.getImmediateCatch(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfLabeledStmt(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateBody() and partialPredicateCall = "Body()"
        or
        result = e.getImmediateCatch(index - nBody) and
        partialPredicateCall = "Catch(" + (index - nBody).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfDoStmt(DoStmt e, int index, string partialPredicateCall) {
    exists(int b, int bLabeledStmt, int n, int nBody |
      b = 0 and
      bLabeledStmt =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLabeledStmt(e, i, _)) | i) and
      n = bLabeledStmt and
      nBody = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfLabeledStmt(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateBody() and partialPredicateCall = "Body()"
      )
    )
  }

  private Element getImmediateChildOfForEachStmt(
    ForEachStmt e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLabeledStmt, int n, int nPattern, int nSequence, int nWhere, int nBody |
      b = 0 and
      bLabeledStmt =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLabeledStmt(e, i, _)) | i) and
      n = bLabeledStmt and
      nPattern = n + 1 and
      nSequence = nPattern + 1 and
      nWhere = nSequence + 1 and
      nBody = nWhere + 1 and
      (
        none()
        or
        result = getImmediateChildOfLabeledStmt(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediatePattern() and partialPredicateCall = "Pattern()"
        or
        index = nPattern and
        result = e.getImmediateSequence() and
        partialPredicateCall = "Sequence()"
        or
        index = nSequence and result = e.getImmediateWhere() and partialPredicateCall = "Where()"
        or
        index = nWhere and result = e.getImmediateBody() and partialPredicateCall = "Body()"
      )
    )
  }

  private Element getImmediateChildOfLabeledConditionalStmt(
    LabeledConditionalStmt e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLabeledStmt, int n, int nCondition |
      b = 0 and
      bLabeledStmt =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLabeledStmt(e, i, _)) | i) and
      n = bLabeledStmt and
      nCondition = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfLabeledStmt(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateCondition() and partialPredicateCall = "Condition()"
      )
    )
  }

  private Element getImmediateChildOfRepeatWhileStmt(
    RepeatWhileStmt e, int index, string partialPredicateCall
  ) {
    exists(int b, int bLabeledStmt, int n, int nCondition, int nBody |
      b = 0 and
      bLabeledStmt =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLabeledStmt(e, i, _)) | i) and
      n = bLabeledStmt and
      nCondition = n + 1 and
      nBody = nCondition + 1 and
      (
        none()
        or
        result = getImmediateChildOfLabeledStmt(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateCondition() and partialPredicateCall = "Condition()"
        or
        index = nCondition and result = e.getImmediateBody() and partialPredicateCall = "Body()"
      )
    )
  }

  private Element getImmediateChildOfSwitchStmt(SwitchStmt e, int index, string partialPredicateCall) {
    exists(int b, int bLabeledStmt, int n, int nExpr, int nCase |
      b = 0 and
      bLabeledStmt =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfLabeledStmt(e, i, _)) | i) and
      n = bLabeledStmt and
      nExpr = n + 1 and
      nCase = nExpr + 1 + max(int i | i = -1 or exists(e.getImmediateCase(i)) | i) and
      (
        none()
        or
        result = getImmediateChildOfLabeledStmt(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateExpr() and partialPredicateCall = "Expr()"
        or
        result = e.getImmediateCase(index - nExpr) and
        partialPredicateCall = "Case(" + (index - nExpr).toString() + ")"
      )
    )
  }

  private Element getImmediateChildOfGuardStmt(GuardStmt e, int index, string partialPredicateCall) {
    exists(int b, int bLabeledConditionalStmt, int n, int nBody |
      b = 0 and
      bLabeledConditionalStmt =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfLabeledConditionalStmt(e, i, _)) | i) and
      n = bLabeledConditionalStmt and
      nBody = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfLabeledConditionalStmt(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateBody() and partialPredicateCall = "Body()"
      )
    )
  }

  private Element getImmediateChildOfIfStmt(IfStmt e, int index, string partialPredicateCall) {
    exists(int b, int bLabeledConditionalStmt, int n, int nThen, int nElse |
      b = 0 and
      bLabeledConditionalStmt =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfLabeledConditionalStmt(e, i, _)) | i) and
      n = bLabeledConditionalStmt and
      nThen = n + 1 and
      nElse = nThen + 1 and
      (
        none()
        or
        result = getImmediateChildOfLabeledConditionalStmt(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateThen() and partialPredicateCall = "Then()"
        or
        index = nThen and result = e.getImmediateElse() and partialPredicateCall = "Else()"
      )
    )
  }

  private Element getImmediateChildOfWhileStmt(WhileStmt e, int index, string partialPredicateCall) {
    exists(int b, int bLabeledConditionalStmt, int n, int nBody |
      b = 0 and
      bLabeledConditionalStmt =
        b + 1 +
          max(int i | i = -1 or exists(getImmediateChildOfLabeledConditionalStmt(e, i, _)) | i) and
      n = bLabeledConditionalStmt and
      nBody = n + 1 and
      (
        none()
        or
        result = getImmediateChildOfLabeledConditionalStmt(e, index - b, partialPredicateCall)
        or
        index = n and result = e.getImmediateBody() and partialPredicateCall = "Body()"
      )
    )
  }

  private Element getImmediateChildOfType(Type e, int index, string partialPredicateCall) {
    exists(int b, int bElement, int n |
      b = 0 and
      bElement = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfElement(e, i, _)) | i) and
      n = bElement and
      (
        none()
        or
        result = getImmediateChildOfElement(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfTypeRepr(TypeRepr e, int index, string partialPredicateCall) {
    exists(int b, int bAstNode, int n |
      b = 0 and
      bAstNode = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAstNode(e, i, _)) | i) and
      n = bAstNode and
      (
        none()
        or
        result = getImmediateChildOfAstNode(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAnyFunctionType(
    AnyFunctionType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAnyGenericType(
    AnyGenericType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAnyMetatypeType(
    AnyMetatypeType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBuiltinType(
    BuiltinType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDependentMemberType(
    DependentMemberType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDynamicSelfType(
    DynamicSelfType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfErrorType(ErrorType e, int index, string partialPredicateCall) {
    exists(int b, int bType, int bErrorElement, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      bErrorElement =
        bType + 1 + max(int i | i = -1 or exists(getImmediateChildOfErrorElement(e, i, _)) | i) and
      n = bErrorElement and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
        or
        result = getImmediateChildOfErrorElement(e, index - bType, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfExistentialType(
    ExistentialType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfInOutType(InOutType e, int index, string partialPredicateCall) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfLValueType(LValueType e, int index, string partialPredicateCall) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfModuleType(ModuleType e, int index, string partialPredicateCall) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfParameterizedProtocolType(
    ParameterizedProtocolType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfProtocolCompositionType(
    ProtocolCompositionType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfReferenceStorageType(
    ReferenceStorageType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfSubstitutableType(
    SubstitutableType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfSugarType(SugarType e, int index, string partialPredicateCall) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfTupleType(TupleType e, int index, string partialPredicateCall) {
    exists(int b, int bType, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      n = bType and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfUnresolvedType(
    UnresolvedType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bType, int bErrorElement, int n |
      b = 0 and
      bType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfType(e, i, _)) | i) and
      bErrorElement =
        bType + 1 + max(int i | i = -1 or exists(getImmediateChildOfErrorElement(e, i, _)) | i) and
      n = bErrorElement and
      (
        none()
        or
        result = getImmediateChildOfType(e, index - b, partialPredicateCall)
        or
        result = getImmediateChildOfErrorElement(e, index - bType, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfAnyBuiltinIntegerType(
    AnyBuiltinIntegerType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinType, int n |
      b = 0 and
      bBuiltinType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinType(e, i, _)) | i) and
      n = bBuiltinType and
      (
        none()
        or
        result = getImmediateChildOfBuiltinType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfArchetypeType(
    ArchetypeType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bSubstitutableType, int n |
      b = 0 and
      bSubstitutableType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfSubstitutableType(e, i, _)) | i) and
      n = bSubstitutableType and
      (
        none()
        or
        result = getImmediateChildOfSubstitutableType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBuiltinBridgeObjectType(
    BuiltinBridgeObjectType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinType, int n |
      b = 0 and
      bBuiltinType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinType(e, i, _)) | i) and
      n = bBuiltinType and
      (
        none()
        or
        result = getImmediateChildOfBuiltinType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBuiltinDefaultActorStorageType(
    BuiltinDefaultActorStorageType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinType, int n |
      b = 0 and
      bBuiltinType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinType(e, i, _)) | i) and
      n = bBuiltinType and
      (
        none()
        or
        result = getImmediateChildOfBuiltinType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBuiltinExecutorType(
    BuiltinExecutorType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinType, int n |
      b = 0 and
      bBuiltinType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinType(e, i, _)) | i) and
      n = bBuiltinType and
      (
        none()
        or
        result = getImmediateChildOfBuiltinType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBuiltinFloatType(
    BuiltinFloatType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinType, int n |
      b = 0 and
      bBuiltinType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinType(e, i, _)) | i) and
      n = bBuiltinType and
      (
        none()
        or
        result = getImmediateChildOfBuiltinType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBuiltinJobType(
    BuiltinJobType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinType, int n |
      b = 0 and
      bBuiltinType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinType(e, i, _)) | i) and
      n = bBuiltinType and
      (
        none()
        or
        result = getImmediateChildOfBuiltinType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBuiltinNativeObjectType(
    BuiltinNativeObjectType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinType, int n |
      b = 0 and
      bBuiltinType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinType(e, i, _)) | i) and
      n = bBuiltinType and
      (
        none()
        or
        result = getImmediateChildOfBuiltinType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBuiltinRawPointerType(
    BuiltinRawPointerType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinType, int n |
      b = 0 and
      bBuiltinType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinType(e, i, _)) | i) and
      n = bBuiltinType and
      (
        none()
        or
        result = getImmediateChildOfBuiltinType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBuiltinRawUnsafeContinuationType(
    BuiltinRawUnsafeContinuationType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinType, int n |
      b = 0 and
      bBuiltinType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinType(e, i, _)) | i) and
      n = bBuiltinType and
      (
        none()
        or
        result = getImmediateChildOfBuiltinType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBuiltinUnsafeValueBufferType(
    BuiltinUnsafeValueBufferType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinType, int n |
      b = 0 and
      bBuiltinType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinType(e, i, _)) | i) and
      n = bBuiltinType and
      (
        none()
        or
        result = getImmediateChildOfBuiltinType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBuiltinVectorType(
    BuiltinVectorType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBuiltinType, int n |
      b = 0 and
      bBuiltinType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBuiltinType(e, i, _)) | i) and
      n = bBuiltinType and
      (
        none()
        or
        result = getImmediateChildOfBuiltinType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfExistentialMetatypeType(
    ExistentialMetatypeType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAnyMetatypeType, int n |
      b = 0 and
      bAnyMetatypeType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAnyMetatypeType(e, i, _)) | i) and
      n = bAnyMetatypeType and
      (
        none()
        or
        result = getImmediateChildOfAnyMetatypeType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfFunctionType(
    FunctionType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAnyFunctionType, int n |
      b = 0 and
      bAnyFunctionType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAnyFunctionType(e, i, _)) | i) and
      n = bAnyFunctionType and
      (
        none()
        or
        result = getImmediateChildOfAnyFunctionType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfGenericFunctionType(
    GenericFunctionType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAnyFunctionType, int n |
      b = 0 and
      bAnyFunctionType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAnyFunctionType(e, i, _)) | i) and
      n = bAnyFunctionType and
      (
        none()
        or
        result = getImmediateChildOfAnyFunctionType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfGenericTypeParamType(
    GenericTypeParamType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bSubstitutableType, int n |
      b = 0 and
      bSubstitutableType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfSubstitutableType(e, i, _)) | i) and
      n = bSubstitutableType and
      (
        none()
        or
        result = getImmediateChildOfSubstitutableType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfMetatypeType(
    MetatypeType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAnyMetatypeType, int n |
      b = 0 and
      bAnyMetatypeType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAnyMetatypeType(e, i, _)) | i) and
      n = bAnyMetatypeType and
      (
        none()
        or
        result = getImmediateChildOfAnyMetatypeType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfNominalOrBoundGenericNominalType(
    NominalOrBoundGenericNominalType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAnyGenericType, int n |
      b = 0 and
      bAnyGenericType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAnyGenericType(e, i, _)) | i) and
      n = bAnyGenericType and
      (
        none()
        or
        result = getImmediateChildOfAnyGenericType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfParenType(ParenType e, int index, string partialPredicateCall) {
    exists(int b, int bSugarType, int n |
      b = 0 and
      bSugarType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfSugarType(e, i, _)) | i) and
      n = bSugarType and
      (
        none()
        or
        result = getImmediateChildOfSugarType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfSyntaxSugarType(
    SyntaxSugarType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bSugarType, int n |
      b = 0 and
      bSugarType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfSugarType(e, i, _)) | i) and
      n = bSugarType and
      (
        none()
        or
        result = getImmediateChildOfSugarType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfTypeAliasType(
    TypeAliasType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bSugarType, int n |
      b = 0 and
      bSugarType = b + 1 + max(int i | i = -1 or exists(getImmediateChildOfSugarType(e, i, _)) | i) and
      n = bSugarType and
      (
        none()
        or
        result = getImmediateChildOfSugarType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfUnboundGenericType(
    UnboundGenericType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAnyGenericType, int n |
      b = 0 and
      bAnyGenericType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAnyGenericType(e, i, _)) | i) and
      n = bAnyGenericType and
      (
        none()
        or
        result = getImmediateChildOfAnyGenericType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfUnmanagedStorageType(
    UnmanagedStorageType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bReferenceStorageType, int n |
      b = 0 and
      bReferenceStorageType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfReferenceStorageType(e, i, _)) | i) and
      n = bReferenceStorageType and
      (
        none()
        or
        result = getImmediateChildOfReferenceStorageType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfUnownedStorageType(
    UnownedStorageType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bReferenceStorageType, int n |
      b = 0 and
      bReferenceStorageType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfReferenceStorageType(e, i, _)) | i) and
      n = bReferenceStorageType and
      (
        none()
        or
        result = getImmediateChildOfReferenceStorageType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfWeakStorageType(
    WeakStorageType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bReferenceStorageType, int n |
      b = 0 and
      bReferenceStorageType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfReferenceStorageType(e, i, _)) | i) and
      n = bReferenceStorageType and
      (
        none()
        or
        result = getImmediateChildOfReferenceStorageType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBoundGenericType(
    BoundGenericType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bNominalOrBoundGenericNominalType, int n |
      b = 0 and
      bNominalOrBoundGenericNominalType =
        b + 1 +
          max(int i |
            i = -1 or exists(getImmediateChildOfNominalOrBoundGenericNominalType(e, i, _))
          |
            i
          ) and
      n = bNominalOrBoundGenericNominalType and
      (
        none()
        or
        result =
          getImmediateChildOfNominalOrBoundGenericNominalType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBuiltinIntegerLiteralType(
    BuiltinIntegerLiteralType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAnyBuiltinIntegerType, int n |
      b = 0 and
      bAnyBuiltinIntegerType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAnyBuiltinIntegerType(e, i, _)) | i) and
      n = bAnyBuiltinIntegerType and
      (
        none()
        or
        result = getImmediateChildOfAnyBuiltinIntegerType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBuiltinIntegerType(
    BuiltinIntegerType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bAnyBuiltinIntegerType, int n |
      b = 0 and
      bAnyBuiltinIntegerType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfAnyBuiltinIntegerType(e, i, _)) | i) and
      n = bAnyBuiltinIntegerType and
      (
        none()
        or
        result = getImmediateChildOfAnyBuiltinIntegerType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfDictionaryType(
    DictionaryType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bSyntaxSugarType, int n |
      b = 0 and
      bSyntaxSugarType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfSyntaxSugarType(e, i, _)) | i) and
      n = bSyntaxSugarType and
      (
        none()
        or
        result = getImmediateChildOfSyntaxSugarType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfNominalType(
    NominalType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bNominalOrBoundGenericNominalType, int n |
      b = 0 and
      bNominalOrBoundGenericNominalType =
        b + 1 +
          max(int i |
            i = -1 or exists(getImmediateChildOfNominalOrBoundGenericNominalType(e, i, _))
          |
            i
          ) and
      n = bNominalOrBoundGenericNominalType and
      (
        none()
        or
        result =
          getImmediateChildOfNominalOrBoundGenericNominalType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfOpaqueTypeArchetypeType(
    OpaqueTypeArchetypeType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bArchetypeType, int n |
      b = 0 and
      bArchetypeType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfArchetypeType(e, i, _)) | i) and
      n = bArchetypeType and
      (
        none()
        or
        result = getImmediateChildOfArchetypeType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfOpenedArchetypeType(
    OpenedArchetypeType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bArchetypeType, int n |
      b = 0 and
      bArchetypeType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfArchetypeType(e, i, _)) | i) and
      n = bArchetypeType and
      (
        none()
        or
        result = getImmediateChildOfArchetypeType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfPrimaryArchetypeType(
    PrimaryArchetypeType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bArchetypeType, int n |
      b = 0 and
      bArchetypeType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfArchetypeType(e, i, _)) | i) and
      n = bArchetypeType and
      (
        none()
        or
        result = getImmediateChildOfArchetypeType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfUnarySyntaxSugarType(
    UnarySyntaxSugarType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bSyntaxSugarType, int n |
      b = 0 and
      bSyntaxSugarType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfSyntaxSugarType(e, i, _)) | i) and
      n = bSyntaxSugarType and
      (
        none()
        or
        result = getImmediateChildOfSyntaxSugarType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfArraySliceType(
    ArraySliceType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bUnarySyntaxSugarType, int n |
      b = 0 and
      bUnarySyntaxSugarType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfUnarySyntaxSugarType(e, i, _)) | i) and
      n = bUnarySyntaxSugarType and
      (
        none()
        or
        result = getImmediateChildOfUnarySyntaxSugarType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBoundGenericClassType(
    BoundGenericClassType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBoundGenericType, int n |
      b = 0 and
      bBoundGenericType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBoundGenericType(e, i, _)) | i) and
      n = bBoundGenericType and
      (
        none()
        or
        result = getImmediateChildOfBoundGenericType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBoundGenericEnumType(
    BoundGenericEnumType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBoundGenericType, int n |
      b = 0 and
      bBoundGenericType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBoundGenericType(e, i, _)) | i) and
      n = bBoundGenericType and
      (
        none()
        or
        result = getImmediateChildOfBoundGenericType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfBoundGenericStructType(
    BoundGenericStructType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bBoundGenericType, int n |
      b = 0 and
      bBoundGenericType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfBoundGenericType(e, i, _)) | i) and
      n = bBoundGenericType and
      (
        none()
        or
        result = getImmediateChildOfBoundGenericType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfClassType(ClassType e, int index, string partialPredicateCall) {
    exists(int b, int bNominalType, int n |
      b = 0 and
      bNominalType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfNominalType(e, i, _)) | i) and
      n = bNominalType and
      (
        none()
        or
        result = getImmediateChildOfNominalType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfEnumType(EnumType e, int index, string partialPredicateCall) {
    exists(int b, int bNominalType, int n |
      b = 0 and
      bNominalType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfNominalType(e, i, _)) | i) and
      n = bNominalType and
      (
        none()
        or
        result = getImmediateChildOfNominalType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfOptionalType(
    OptionalType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bUnarySyntaxSugarType, int n |
      b = 0 and
      bUnarySyntaxSugarType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfUnarySyntaxSugarType(e, i, _)) | i) and
      n = bUnarySyntaxSugarType and
      (
        none()
        or
        result = getImmediateChildOfUnarySyntaxSugarType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfProtocolType(
    ProtocolType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bNominalType, int n |
      b = 0 and
      bNominalType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfNominalType(e, i, _)) | i) and
      n = bNominalType and
      (
        none()
        or
        result = getImmediateChildOfNominalType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfStructType(StructType e, int index, string partialPredicateCall) {
    exists(int b, int bNominalType, int n |
      b = 0 and
      bNominalType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfNominalType(e, i, _)) | i) and
      n = bNominalType and
      (
        none()
        or
        result = getImmediateChildOfNominalType(e, index - b, partialPredicateCall)
      )
    )
  }

  private Element getImmediateChildOfVariadicSequenceType(
    VariadicSequenceType e, int index, string partialPredicateCall
  ) {
    exists(int b, int bUnarySyntaxSugarType, int n |
      b = 0 and
      bUnarySyntaxSugarType =
        b + 1 + max(int i | i = -1 or exists(getImmediateChildOfUnarySyntaxSugarType(e, i, _)) | i) and
      n = bUnarySyntaxSugarType and
      (
        none()
        or
        result = getImmediateChildOfUnarySyntaxSugarType(e, index - b, partialPredicateCall)
      )
    )
  }

  cached
  Element getImmediateChild(Element e, int index, string partialAccessor) {
    // why does this look more complicated than it should?
    // * none() simplifies generation, as we can append `or ...` without a special case for the first item
    none()
    or
    result = getImmediateChildOfComment(e, index, partialAccessor)
    or
    result = getImmediateChildOfDbFile(e, index, partialAccessor)
    or
    result = getImmediateChildOfDbLocation(e, index, partialAccessor)
    or
    result = getImmediateChildOfDiagnostics(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnknownFile(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnknownLocation(e, index, partialAccessor)
    or
    result = getImmediateChildOfAvailabilityInfo(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnspecifiedElement(e, index, partialAccessor)
    or
    result = getImmediateChildOfOtherAvailabilitySpec(e, index, partialAccessor)
    or
    result = getImmediateChildOfPlatformVersionAvailabilitySpec(e, index, partialAccessor)
    or
    result = getImmediateChildOfCapturedDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfEnumCaseDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfExtensionDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfIfConfigDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfImportDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfMissingMemberDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfPatternBindingDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfPoundDiagnosticDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfPrecedenceGroupDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfTopLevelCodeDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfEnumElementDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfInfixOperatorDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfPostfixOperatorDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfPrefixOperatorDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfConstructorDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfDestructorDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfModuleDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfSubscriptDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfAccessorDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfAssociatedTypeDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfConcreteFuncDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfConcreteVarDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfGenericTypeParamDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfOpaqueTypeDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfParamDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfTypeAliasDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfClassDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfEnumDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfProtocolDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfStructDecl(e, index, partialAccessor)
    or
    result = getImmediateChildOfArgument(e, index, partialAccessor)
    or
    result = getImmediateChildOfAppliedPropertyWrapperExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfAssignExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfBindOptionalExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfCaptureListExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDeclRefExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDefaultArgumentExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDiscardAssignmentExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDotSyntaxBaseIgnoredExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDynamicTypeExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfEnumIsCaseExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfErrorExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfForceValueExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfIfExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfInOutExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfKeyPathApplicationExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfKeyPathDotExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfKeyPathExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfLazyInitializerExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfMakeTemporarilyEscapableExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfObjCSelectorExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfOneWayExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfOpaqueValueExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfOpenExistentialExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfOptionalEvaluationExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfOtherConstructorDeclRefExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfOverloadedDeclRefExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfPropertyWrapperValuePlaceholderExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfRebindSelfInConstructorExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfSequenceExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfSuperRefExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfTapExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfTupleElementExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfTupleExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfTypeExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnresolvedDeclRefExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnresolvedDotExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnresolvedMemberExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnresolvedPatternExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnresolvedSpecializeExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfVarargExpansionExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfAbiSafeConversionExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfAnyHashableErasureExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfArchetypeToSuperExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfArrayExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfArrayToPointerExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfAutoClosureExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfAwaitExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfBinaryExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfBridgeFromObjCExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfBridgeToObjCExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfCallExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfClassMetatypeToObjectExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfClosureExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfCoerceExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfCollectionUpcastConversionExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfConditionalBridgeFromObjCExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfCovariantFunctionConversionExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfCovariantReturnConversionExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDerivedToBaseExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDestructureTupleExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDictionaryExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDifferentiableFunctionExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDifferentiableFunctionExtractOriginalExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDotSelfExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfErasureExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfExistentialMetatypeToObjectExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfForceTryExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfForeignObjectConversionExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfFunctionConversionExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfInOutToPointerExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfInjectIntoOptionalExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfInterpolatedStringLiteralExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfLinearFunctionExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfLinearFunctionExtractOriginalExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfLinearToDifferentiableFunctionExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfLoadExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfMemberRefExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfMetatypeConversionExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfMethodLookupExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfNilLiteralExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfObjectLiteralExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfOptionalTryExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfParenExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfPointerToPointerExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfPostfixUnaryExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfPrefixUnaryExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfProtocolMetatypeToObjectExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfRegexLiteralExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfStringToPointerExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfSubscriptExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfTryExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnderlyingToOpaqueExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnevaluatedInstanceExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnresolvedMemberChainResultExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnresolvedTypeConversionExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfBooleanLiteralExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfConditionalCheckedCastExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfConstructorRefCallExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDotSyntaxCallExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDynamicMemberRefExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDynamicSubscriptExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfForcedCheckedCastExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfIsExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfMagicIdentifierLiteralExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfStringLiteralExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfFloatLiteralExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfIntegerLiteralExpr(e, index, partialAccessor)
    or
    result = getImmediateChildOfAnyPattern(e, index, partialAccessor)
    or
    result = getImmediateChildOfBindingPattern(e, index, partialAccessor)
    or
    result = getImmediateChildOfBoolPattern(e, index, partialAccessor)
    or
    result = getImmediateChildOfEnumElementPattern(e, index, partialAccessor)
    or
    result = getImmediateChildOfExprPattern(e, index, partialAccessor)
    or
    result = getImmediateChildOfIsPattern(e, index, partialAccessor)
    or
    result = getImmediateChildOfNamedPattern(e, index, partialAccessor)
    or
    result = getImmediateChildOfOptionalSomePattern(e, index, partialAccessor)
    or
    result = getImmediateChildOfParenPattern(e, index, partialAccessor)
    or
    result = getImmediateChildOfTuplePattern(e, index, partialAccessor)
    or
    result = getImmediateChildOfTypedPattern(e, index, partialAccessor)
    or
    result = getImmediateChildOfCaseLabelItem(e, index, partialAccessor)
    or
    result = getImmediateChildOfConditionElement(e, index, partialAccessor)
    or
    result = getImmediateChildOfStmtCondition(e, index, partialAccessor)
    or
    result = getImmediateChildOfBraceStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfBreakStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfCaseStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfContinueStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfDeferStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfFailStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfFallthroughStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfPoundAssertStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfReturnStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfThrowStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfYieldStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfDoCatchStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfDoStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfForEachStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfRepeatWhileStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfSwitchStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfGuardStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfIfStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfWhileStmt(e, index, partialAccessor)
    or
    result = getImmediateChildOfTypeRepr(e, index, partialAccessor)
    or
    result = getImmediateChildOfDependentMemberType(e, index, partialAccessor)
    or
    result = getImmediateChildOfDynamicSelfType(e, index, partialAccessor)
    or
    result = getImmediateChildOfErrorType(e, index, partialAccessor)
    or
    result = getImmediateChildOfExistentialType(e, index, partialAccessor)
    or
    result = getImmediateChildOfInOutType(e, index, partialAccessor)
    or
    result = getImmediateChildOfLValueType(e, index, partialAccessor)
    or
    result = getImmediateChildOfModuleType(e, index, partialAccessor)
    or
    result = getImmediateChildOfParameterizedProtocolType(e, index, partialAccessor)
    or
    result = getImmediateChildOfProtocolCompositionType(e, index, partialAccessor)
    or
    result = getImmediateChildOfTupleType(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnresolvedType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBuiltinBridgeObjectType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBuiltinDefaultActorStorageType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBuiltinExecutorType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBuiltinFloatType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBuiltinJobType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBuiltinNativeObjectType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBuiltinRawPointerType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBuiltinRawUnsafeContinuationType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBuiltinUnsafeValueBufferType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBuiltinVectorType(e, index, partialAccessor)
    or
    result = getImmediateChildOfExistentialMetatypeType(e, index, partialAccessor)
    or
    result = getImmediateChildOfFunctionType(e, index, partialAccessor)
    or
    result = getImmediateChildOfGenericFunctionType(e, index, partialAccessor)
    or
    result = getImmediateChildOfGenericTypeParamType(e, index, partialAccessor)
    or
    result = getImmediateChildOfMetatypeType(e, index, partialAccessor)
    or
    result = getImmediateChildOfParenType(e, index, partialAccessor)
    or
    result = getImmediateChildOfTypeAliasType(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnboundGenericType(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnmanagedStorageType(e, index, partialAccessor)
    or
    result = getImmediateChildOfUnownedStorageType(e, index, partialAccessor)
    or
    result = getImmediateChildOfWeakStorageType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBuiltinIntegerLiteralType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBuiltinIntegerType(e, index, partialAccessor)
    or
    result = getImmediateChildOfDictionaryType(e, index, partialAccessor)
    or
    result = getImmediateChildOfOpaqueTypeArchetypeType(e, index, partialAccessor)
    or
    result = getImmediateChildOfOpenedArchetypeType(e, index, partialAccessor)
    or
    result = getImmediateChildOfPrimaryArchetypeType(e, index, partialAccessor)
    or
    result = getImmediateChildOfArraySliceType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBoundGenericClassType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBoundGenericEnumType(e, index, partialAccessor)
    or
    result = getImmediateChildOfBoundGenericStructType(e, index, partialAccessor)
    or
    result = getImmediateChildOfClassType(e, index, partialAccessor)
    or
    result = getImmediateChildOfEnumType(e, index, partialAccessor)
    or
    result = getImmediateChildOfOptionalType(e, index, partialAccessor)
    or
    result = getImmediateChildOfProtocolType(e, index, partialAccessor)
    or
    result = getImmediateChildOfStructType(e, index, partialAccessor)
    or
    result = getImmediateChildOfVariadicSequenceType(e, index, partialAccessor)
  }
}

/**
 * Gets the "immediate" parent of `e`. "Immediate" means not taking into account node resolution: for example
 * if `e` has conversions, `getImmediateParent(e)` will give the innermost conversion in the hidden AST.
 */
Element getImmediateParent(Element e) {
  // `unique` is used here to tell the optimizer that there is in fact only one result
  // this is tested by the `library-tests/parent/no_double_parents.ql` test
  result = unique(Element x | e = Impl::getImmediateChild(x, _, _) | x)
}

/**
 * Gets the immediate child indexed at `index`. Indexes are not guaranteed to be contiguous, but are guaranteed to be distinct. `accessor` is bound the member predicate call resulting in the given child.
 */
Element getImmediateChildAndAccessor(Element e, int index, string accessor) {
  exists(string partialAccessor |
    result = Impl::getImmediateChild(e, index, partialAccessor) and
    accessor = "getImmediate" + partialAccessor
  )
}

/**
 * Gets the child indexed at `index`. Indexes are not guaranteed to be contiguous, but are guaranteed to be distinct. `accessor` is bound the member predicate call resulting in the given child.
 */
Element getChildAndAccessor(Element e, int index, string accessor) {
  exists(string partialAccessor |
    result = Impl::getImmediateChild(e, index, partialAccessor).resolve() and
    accessor = "get" + partialAccessor
  )
}
