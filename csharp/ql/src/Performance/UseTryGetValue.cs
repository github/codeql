// BAD: Two operations on the hostnames table.

if(hostnames.ContainsKey(ip))
  return hostnames[ip];
